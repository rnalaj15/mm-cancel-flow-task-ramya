<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/app/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/page.tsx" />
              <option name="originalContent" value="'use client';&#10;&#10;import { useState } from 'react';&#10;// import CancellationFlow from '@/components/CancellationFlow';&#10;import MmcfCancellationFlow from '@/components/CancellationFlows';&#10;&#10;// Mock user data for UI display&#10;const mockUser = {&#10;  email: 'user@example.com',&#10;  id: '1'&#10;};&#10;&#10;// Mock subscription data for UI display&#10;const mockSubscriptionData = {&#10;  status: 'active',&#10;  isTrialSubscription: false,&#10;  cancelAtPeriodEnd: false,&#10;  currentPeriodEnd: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(), // 30 days from now&#10;  monthlyPrice: 25,&#10;  isUCStudent: false,&#10;  hasManagedAccess: false,&#10;  managedOrganization: null,&#10;  downsellAccepted: false&#10;};&#10;&#10;export default function ProfilePage() {&#10;  const [loading] = useState(false);&#10;  const [isSigningOut, setIsSigningOut] = useState(false);&#10;  &#10;  // New state for settings toggle&#10;  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);&#10;  &#10;  // Cancellation flow state&#10;  const [showCancellationFlow, setShowCancellationFlow] = useState(false);&#10;&#10;  const handleSignOut = async () =&gt; {&#10;    setIsSigningOut(true);&#10;    // Simulate sign out delay&#10;    setTimeout(() =&gt; {&#10;      console.log('User signed out');&#10;      setIsSigningOut(false);&#10;    }, 1000);&#10;  };&#10;&#10;  const handleClose = () =&gt; {&#10;    console.log('Navigate to jobs');&#10;  };&#10;&#10;  if (loading) {&#10;    return (&#10;      &lt;div className=&quot;min-h-screen bg-gray-50 py-12&quot;&gt;&#10;        &lt;div className=&quot;max-w-3xl mx-auto px-4 sm:px-6 lg:px-8&quot;&gt;&#10;          &lt;div className=&quot;bg-white shadow rounded-lg overflow-hidden&quot;&gt;&#10;            {/* Header skeleton */}&#10;            &lt;div className=&quot;px-6 py-8 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-indigo-50&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                &lt;div className=&quot;h-8 w-40 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                  &lt;div className=&quot;h-10 w-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-10 w-24 bg-gradient-to-r from-gray-200 to-gray-300 rounded-md animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &#10;            {/* Profile Info skeleton */}&#10;            &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;              &lt;div className=&quot;h-6 w-56 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-4 animate-pulse&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;h-4 w-20 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-2 animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-5 w-48 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;h-4 w-36 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-2 animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-5 w-20 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;h-4 w-48 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-2 animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-5 w-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &#10;            {/* Support skeleton */}&#10;            &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;              &lt;div className=&quot;h-6 w-24 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-4 animate-pulse&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse&quot;&gt;&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &#10;            {/* Subscription Management skeleton */}&#10;            &lt;div className=&quot;px-6 py-6&quot;&gt;&#10;              &lt;div className=&quot;h-6 w-56 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-4 animate-pulse&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;space-y-4&quot;&gt;&#10;                &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse delay-75&quot;&gt;&lt;/div&gt;&#10;                &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse delay-150&quot;&gt;&lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  }&#10;&#10;  return (&#10;    &lt;div className=&quot;min-h-screen bg-gray-50 py-12 relative&quot;&gt;&#10;      &lt;div className=&quot;max-w-3xl mx-auto px-4 sm:px-6 lg:px-8&quot;&gt;&#10;        &lt;div className=&quot;bg-white shadow rounded-lg overflow-hidden&quot;&gt;&#10;          {/* Header */}&#10;          &lt;div className=&quot;px-6 py-8 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-indigo-50&quot;&gt;&#10;            &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;              &lt;h1 className=&quot;text-2xl font-bold text-gray-900&quot;&gt;&#10;                &lt;span className=&quot;sm:hidden&quot;&gt;Profile&lt;/span&gt;&#10;                &lt;span className=&quot;hidden sm:inline&quot;&gt;My Profile&lt;/span&gt;&#10;              &lt;/h1&gt;&#10;              &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                &lt;button&#10;                  onClick={handleClose}&#10;                  className=&quot;inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-[#8952fc] rounded-lg hover:bg-[#7b40fc] transition-colors&quot;&#10;                  aria-label=&quot;Back to jobs&quot;&#10;                &gt;&#10;                  &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-1.5&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                    &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M10 19l-7-7m0 0l7-7m-7 7h18&quot; /&gt;&#10;                  &lt;/svg&gt;&#10;                  &lt;span className=&quot;sm:hidden&quot;&gt;Jobs&lt;/span&gt;&#10;                  &lt;span className=&quot;hidden sm:inline&quot;&gt;Back to jobs&lt;/span&gt;&#10;                &lt;/button&gt;&#10;                &lt;button&#10;                  onClick={handleSignOut}&#10;                  className=&quot;px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50&quot;&#10;                  disabled={isSigningOut}&#10;                &gt;&#10;                  {isSigningOut ? 'Signing out...' : 'Sign out'}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;          &#10;          {/* Profile Info */}&#10;          &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;            &lt;h2 className=&quot;text-lg font-medium text-gray-900 mb-4&quot;&gt;Account Information&lt;/h2&gt;&#10;            &lt;div className=&quot;space-y-3&quot;&gt;&#10;              &lt;div&gt;&#10;                &lt;p className=&quot;text-sm font-medium text-gray-500&quot;&gt;Email&lt;/p&gt;&#10;                &lt;p className=&quot;mt-1 text-md text-gray-900&quot;&gt;{mockUser.email}&lt;/p&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;pt-2 space-y-3&quot;&gt;&#10;                &lt;div className=&quot;flex items-center justify-between p-4 bg-gray-50 rounded-lg&quot;&gt;&#10;                  &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                    &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 text-gray-400&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;p className=&quot;text-sm font-medium text-gray-900&quot;&gt;Subscription status&lt;/p&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                    {mockSubscriptionData.status === 'active' &amp;&amp; !mockSubscriptionData.isTrialSubscription &amp;&amp; !mockSubscriptionData.cancelAtPeriodEnd &amp;&amp; (&#10;                      &lt;span className=&quot;inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-green-50 text-green-700 border border-green-200&quot;&gt;&#10;                        Active&#10;                      &lt;/span&gt;&#10;                    )}&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {mockSubscriptionData.status === 'active' &amp;&amp; !mockSubscriptionData.isTrialSubscription &amp;&amp; !mockSubscriptionData.cancelAtPeriodEnd &amp;&amp; (&#10;                  &lt;div className=&quot;flex items-center justify-between p-4 bg-gray-50 rounded-lg&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                      &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 text-gray-400&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                          &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z&quot; /&gt;&#10;                        &lt;/svg&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;p className=&quot;text-sm font-medium text-gray-900&quot;&gt;Next payment&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;p className=&quot;text-sm font-medium text-gray-900&quot;&gt;&#10;                      {mockSubscriptionData.currentPeriodEnd &amp;&amp; new Date(mockSubscriptionData.currentPeriodEnd).toLocaleDateString('en-US', {&#10;                        month: 'long',&#10;                        day: 'numeric'&#10;                      })}&#10;                    &lt;/p&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;          &#10;          {/* Support Button */}&#10;          &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;            &lt;button&#10;              onClick={() =&gt; {&#10;                console.log('Support contact clicked');&#10;              }}&#10;              title=&quot;Send email to support&quot;&#10;              className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-[#8952fc] text-white rounded-lg hover:bg-[#7b40fc] transition-colors&quot;&#10;            &gt;&#10;              &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z&quot; /&gt;&#10;              &lt;/svg&gt;&#10;              &lt;span className=&quot;text-sm&quot;&gt;Contact support&lt;/span&gt;&#10;            &lt;/button&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Settings Toggle Button */}&#10;          &lt;div className=&quot;px-6 py-6&quot;&gt;&#10;            &lt;button&#10;              onClick={() =&gt; {&#10;                setShowAdvancedSettings(!showAdvancedSettings);&#10;                console.log('Settings toggled:', !showAdvancedSettings);&#10;              }}&#10;              className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm group&quot;&#10;            &gt;&#10;              &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z&quot; /&gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 12a3 3 0 11-6 0 3 3 0 016 0z&quot; /&gt;&#10;              &lt;/svg&gt;&#10;              &lt;span className=&quot;text-sm font-medium&quot;&gt;Manage Subscription&lt;/span&gt;&#10;              &lt;svg &#10;                className={`w-4 h-4 ml-2 transition-transform duration-200 ${showAdvancedSettings ? 'rotate-180' : ''}`}&#10;                fill=&quot;none&quot; &#10;                viewBox=&quot;0 0 24 24&quot; &#10;                stroke=&quot;currentColor&quot;&#10;              &gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M19 9l-7 7-7-7&quot; /&gt;&#10;              &lt;/svg&gt;&#10;            &lt;/button&gt;&#10;&#10;            {/* Collapsible Settings Content */}&#10;            &lt;div className={`overflow-hidden transition-all duration-300 ease-in-out ${showAdvancedSettings ? 'max-h-[800px] opacity-100 mt-4' : 'max-h-0 opacity-0'}`}&gt;&#10;              &lt;div className=&quot;space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200&quot;&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;space-y-3&quot;&gt;&#10;                    &lt;button&#10;                      onClick={() =&gt; {&#10;                        console.log('Update card clicked');&#10;                      }}&#10;                      className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm&quot;&#10;                    &gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                      &lt;span className=&quot;text-sm font-medium&quot;&gt;Update payment method&lt;/span&gt;&#10;                    &lt;/button&gt;&#10;                    &lt;button&#10;                      onClick={() =&gt; {&#10;                        console.log('Invoice history clicked');&#10;                      }}&#10;                      className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm&quot;&#10;                    &gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                      &lt;span className=&quot;text-sm font-medium&quot;&gt;View billing history&lt;/span&gt;&#10;                    &lt;/button&gt;&#10;                    &lt;button&#10;                      onClick={() =&gt; {&#10;                        setShowCancellationFlow(true);&#10;                      }}&#10;                      className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-red-200 text-red-600 rounded-lg hover:bg-red-50 hover:border-red-300 transition-all duration-200 shadow-sm group&quot;&#10;                    &gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-2 group-hover:scale-110 transition-transform&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot; strokeWidth={2}&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; d=&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                      &lt;span className=&quot;text-sm font-medium&quot;&gt;Cancel Migrate Mate&lt;/span&gt;&#10;                    &lt;/button&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &#10;      {/* Cancellation Flow Modal */}&#10;      &lt;MmcfCancellationFlow &#10;        isOpen={showCancellationFlow}&#10;        onClose={() =&gt; setShowCancellationFlow(false)}&#10;      /&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}" />
              <option name="updatedContent" value="'use client';&#10;&#10;import { useState } from 'react';&#10;// import CancellationFlow from '@/components/CancellationFlow';&#10;import CancellationFlow from '@/components/CancellationFlow';&#10;&#10;// Mock user data for UI display&#10;const mockUser = {&#10;  email: 'user@example.com',&#10;  id: '1'&#10;};&#10;&#10;// Mock subscription data for UI display&#10;const mockSubscriptionData = {&#10;  status: 'active',&#10;  isTrialSubscription: false,&#10;  cancelAtPeriodEnd: false,&#10;  currentPeriodEnd: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(), // 30 days from now&#10;  monthlyPrice: 25,&#10;  isUCStudent: false,&#10;  hasManagedAccess: false,&#10;  managedOrganization: null,&#10;  downsellAccepted: false&#10;};&#10;&#10;export default function ProfilePage() {&#10;  const [loading] = useState(false);&#10;  const [isSigningOut, setIsSigningOut] = useState(false);&#10;  &#10;  // New state for settings toggle&#10;  const [showAdvancedSettings, setShowAdvancedSettings] = useState(false);&#10;  &#10;  // Cancellation flow state&#10;  const [showCancellationFlow, setShowCancellationFlow] = useState(false);&#10;&#10;  const handleSignOut = async () =&gt; {&#10;    setIsSigningOut(true);&#10;    // Simulate sign out delay&#10;    setTimeout(() =&gt; {&#10;      console.log('User signed out');&#10;      setIsSigningOut(false);&#10;    }, 1000);&#10;  };&#10;&#10;  const handleClose = () =&gt; {&#10;    console.log('Navigate to jobs');&#10;  };&#10;&#10;  if (loading) {&#10;    return (&#10;      &lt;div className=&quot;min-h-screen bg-gray-50 py-12&quot;&gt;&#10;        &lt;div className=&quot;max-w-3xl mx-auto px-4 sm:px-6 lg:px-8&quot;&gt;&#10;          &lt;div className=&quot;bg-white shadow rounded-lg overflow-hidden&quot;&gt;&#10;            {/* Header skeleton */}&#10;            &lt;div className=&quot;px-6 py-8 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-indigo-50&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                &lt;div className=&quot;h-8 w-40 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                  &lt;div className=&quot;h-10 w-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-10 w-24 bg-gradient-to-r from-gray-200 to-gray-300 rounded-md animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &#10;            {/* Profile Info skeleton */}&#10;            &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;              &lt;div className=&quot;h-6 w-56 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-4 animate-pulse&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;h-4 w-20 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-2 animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-5 w-48 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;h-4 w-36 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-2 animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-5 w-20 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;h-4 w-48 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-2 animate-pulse&quot;&gt;&lt;/div&gt;&#10;                  &lt;div className=&quot;h-5 w-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &#10;            {/* Support skeleton */}&#10;            &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;              &lt;div className=&quot;h-6 w-24 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-4 animate-pulse&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse&quot;&gt;&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &#10;            {/* Subscription Management skeleton */}&#10;            &lt;div className=&quot;px-6 py-6&quot;&gt;&#10;              &lt;div className=&quot;h-6 w-56 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-4 animate-pulse&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;space-y-4&quot;&gt;&#10;                &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse&quot;&gt;&lt;/div&gt;&#10;                &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse delay-75&quot;&gt;&lt;/div&gt;&#10;                &lt;div className=&quot;h-12 w-full bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg animate-pulse delay-150&quot;&gt;&lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  }&#10;&#10;  return (&#10;    &lt;div className=&quot;min-h-screen bg-gray-50 py-12 relative&quot;&gt;&#10;      &lt;div className=&quot;max-w-3xl mx-auto px-4 sm:px-6 lg:px-8&quot;&gt;&#10;        &lt;div className=&quot;bg-white shadow rounded-lg overflow-hidden&quot;&gt;&#10;          {/* Header */}&#10;          &lt;div className=&quot;px-6 py-8 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-indigo-50&quot;&gt;&#10;            &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;              &lt;h1 className=&quot;text-2xl font-bold text-gray-900&quot;&gt;&#10;                &lt;span className=&quot;sm:hidden&quot;&gt;Profile&lt;/span&gt;&#10;                &lt;span className=&quot;hidden sm:inline&quot;&gt;My Profile&lt;/span&gt;&#10;              &lt;/h1&gt;&#10;              &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                &lt;button&#10;                  onClick={handleClose}&#10;                  className=&quot;inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-[#8952fc] rounded-lg hover:bg-[#7b40fc] transition-colors&quot;&#10;                  aria-label=&quot;Back to jobs&quot;&#10;                &gt;&#10;                  &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-1.5&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                    &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M10 19l-7-7m0 0l7-7m-7 7h18&quot; /&gt;&#10;                  &lt;/svg&gt;&#10;                  &lt;span className=&quot;sm:hidden&quot;&gt;Jobs&lt;/span&gt;&#10;                  &lt;span className=&quot;hidden sm:inline&quot;&gt;Back to jobs&lt;/span&gt;&#10;                &lt;/button&gt;&#10;                &lt;button&#10;                  onClick={handleSignOut}&#10;                  className=&quot;px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50&quot;&#10;                  disabled={isSigningOut}&#10;                &gt;&#10;                  {isSigningOut ? 'Signing out...' : 'Sign out'}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;          &#10;          {/* Profile Info */}&#10;          &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;            &lt;h2 className=&quot;text-lg font-medium text-gray-900 mb-4&quot;&gt;Account Information&lt;/h2&gt;&#10;            &lt;div className=&quot;space-y-3&quot;&gt;&#10;              &lt;div&gt;&#10;                &lt;p className=&quot;text-sm font-medium text-gray-500&quot;&gt;Email&lt;/p&gt;&#10;                &lt;p className=&quot;mt-1 text-md text-gray-900&quot;&gt;{mockUser.email}&lt;/p&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;pt-2 space-y-3&quot;&gt;&#10;                &lt;div className=&quot;flex items-center justify-between p-4 bg-gray-50 rounded-lg&quot;&gt;&#10;                  &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                    &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 text-gray-400&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;p className=&quot;text-sm font-medium text-gray-900&quot;&gt;Subscription status&lt;/p&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                    {mockSubscriptionData.status === 'active' &amp;&amp; !mockSubscriptionData.isTrialSubscription &amp;&amp; !mockSubscriptionData.cancelAtPeriodEnd &amp;&amp; (&#10;                      &lt;span className=&quot;inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-green-50 text-green-700 border border-green-200&quot;&gt;&#10;                        Active&#10;                      &lt;/span&gt;&#10;                    )}&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {mockSubscriptionData.status === 'active' &amp;&amp; !mockSubscriptionData.isTrialSubscription &amp;&amp; !mockSubscriptionData.cancelAtPeriodEnd &amp;&amp; (&#10;                  &lt;div className=&quot;flex items-center justify-between p-4 bg-gray-50 rounded-lg&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                      &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 text-gray-400&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                          &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z&quot; /&gt;&#10;                        &lt;/svg&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;p className=&quot;text-sm font-medium text-gray-900&quot;&gt;Next payment&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;p className=&quot;text-sm font-medium text-gray-900&quot;&gt;&#10;                      {mockSubscriptionData.currentPeriodEnd &amp;&amp; new Date(mockSubscriptionData.currentPeriodEnd).toLocaleDateString('en-US', {&#10;                        month: 'long',&#10;                        day: 'numeric'&#10;                      })}&#10;                    &lt;/p&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;          &#10;          {/* Support Button */}&#10;          &lt;div className=&quot;px-6 py-6 border-b border-gray-200&quot;&gt;&#10;            &lt;button&#10;              onClick={() =&gt; {&#10;                console.log('Support contact clicked');&#10;              }}&#10;              title=&quot;Send email to support&quot;&#10;              className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-[#8952fc] text-white rounded-lg hover:bg-[#7b40fc] transition-colors&quot;&#10;            &gt;&#10;              &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z&quot; /&gt;&#10;              &lt;/svg&gt;&#10;              &lt;span className=&quot;text-sm&quot;&gt;Contact support&lt;/span&gt;&#10;            &lt;/button&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Settings Toggle Button */}&#10;          &lt;div className=&quot;px-6 py-6&quot;&gt;&#10;            &lt;button&#10;              onClick={() =&gt; {&#10;                setShowAdvancedSettings(!showAdvancedSettings);&#10;                console.log('Settings toggled:', !showAdvancedSettings);&#10;              }}&#10;              className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm group&quot;&#10;            &gt;&#10;              &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-5 w-5 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z&quot; /&gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 12a3 3 0 11-6 0 3 3 0 016 0z&quot; /&gt;&#10;              &lt;/svg&gt;&#10;              &lt;span className=&quot;text-sm font-medium&quot;&gt;Manage Subscription&lt;/span&gt;&#10;              &lt;svg &#10;                className={`w-4 h-4 ml-2 transition-transform duration-200 ${showAdvancedSettings ? 'rotate-180' : ''}`}&#10;                fill=&quot;none&quot; &#10;                viewBox=&quot;0 0 24 24&quot; &#10;                stroke=&quot;currentColor&quot;&#10;              &gt;&#10;                &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M19 9l-7 7-7-7&quot; /&gt;&#10;              &lt;/svg&gt;&#10;            &lt;/button&gt;&#10;&#10;            {/* Collapsible Settings Content */}&#10;            &lt;div className={`overflow-hidden transition-all duration-300 ease-in-out ${showAdvancedSettings ? 'max-h-[800px] opacity-100 mt-4' : 'max-h-0 opacity-0'}`}&gt;&#10;              &lt;div className=&quot;space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200&quot;&gt;&#10;                &lt;div&gt;&#10;                  &lt;div className=&quot;space-y-3&quot;&gt;&#10;                    &lt;button&#10;                      onClick={() =&gt; {&#10;                        console.log('Update card clicked');&#10;                      }}&#10;                      className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm&quot;&#10;                    &gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                      &lt;span className=&quot;text-sm font-medium&quot;&gt;Update payment method&lt;/span&gt;&#10;                    &lt;/button&gt;&#10;                    &lt;button&#10;                      onClick={() =&gt; {&#10;                        console.log('Invoice history clicked');&#10;                      }}&#10;                      className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm&quot;&#10;                    &gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                      &lt;span className=&quot;text-sm font-medium&quot;&gt;View billing history&lt;/span&gt;&#10;                    &lt;/button&gt;&#10;                    &lt;button&#10;                      onClick={() =&gt; {&#10;                        setShowCancellationFlow(true);&#10;                      }}&#10;                      className=&quot;inline-flex items-center justify-center w-full px-4 py-3 bg-white border border-red-200 text-red-600 rounded-lg hover:bg-red-50 hover:border-red-300 transition-all duration-200 shadow-sm group&quot;&#10;                    &gt;&#10;                      &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; className=&quot;h-4 w-4 mr-2 group-hover:scale-110 transition-transform&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot; strokeWidth={2}&gt;&#10;                        &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; d=&quot;M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z&quot; /&gt;&#10;                      &lt;/svg&gt;&#10;                      &lt;span className=&quot;text-sm font-medium&quot;&gt;Cancel Migrate Mate&lt;/span&gt;&#10;                    &lt;/button&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &#10;      {/* Cancellation Flow Modal */}&#10;      &lt;CancellationFlow &#10;        isOpen={showCancellationFlow}&#10;        onClose={() =&gt; setShowCancellationFlow(false)}&#10;      /&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/CancellationFlow.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/CancellationFlow.tsx" />
              <option name="originalContent" value="'use client';&#10;&#10;import { useState, useCallback, useMemo, useRef, useEffect } from 'react';&#10;import Image from 'next/image';&#10;&#10;type FlowStep = 'initial' | 'downsell' | 'downsell_completed' | 'job_recommendations' | 'survey' | 'reason_selection' | 'congrats' | 'feedback' | 'visa' | 'completed';&#10;&#10;interface CancellationFlowProps {&#10;  isOpen: boolean;&#10;  onClose: () =&gt; void;&#10;  onComplete?: (data: CancellationData) =&gt; void;&#10;}&#10;&#10;interface CancellationData {&#10;  foundJobWithMigrateMate: boolean | null;&#10;  rolesApplied: number | null;&#10;  companiesEmailed: number | null;&#10;  companiesInterviewed: number | null;&#10;  feedback: string;&#10;  hasImmigrationLawyer: boolean | null;&#10;  visaType: string;&#10;  acceptedDownsell: boolean | null;&#10;  cancellationReason: string | null;&#10;  reasonFollowUpText: string;&#10;}&#10;&#10;export default function CancellationFlow({ isOpen, onClose, onComplete }: CancellationFlowProps) {&#10;  const [currentStep, setCurrentStep] = useState&lt;FlowStep&gt;('initial');&#10;  const [foundJobWithMigrateMate, setFoundJobWithMigrateMate] = useState&lt;boolean | null&gt;(null);&#10;  const [rolesApplied, setRolesApplied] = useState&lt;number | null&gt;(null);&#10;  const [companiesEmailed, setCompaniesEmailed] = useState&lt;number | null&gt;(null);&#10;  const [companiesInterviewed, setCompaniesInterviewed] = useState&lt;number | null&gt;(null);&#10;  const [feedback, setFeedback] = useState('');&#10;  const [hasImmigrationLawyer, setHasImmigrationLawyer] = useState&lt;boolean | null&gt;(null);&#10;  const [visaType, setVisaType] = useState('');&#10;&#10;  // Survey questions state&#10;  const [rolesAppliedSurvey, setRolesAppliedSurvey] = useState&lt;string | null&gt;(null);&#10;  const [companiesEmailedSurvey, setCompaniesEmailedSurvey] = useState&lt;string | null&gt;(null);&#10;  const [companiesInterviewedSurvey, setCompaniesInterviewedSurvey] = useState&lt;string | null&gt;(null);&#10;&#10;  // A/B Testing and Downsell&#10;  const [downsellVariant, setDownsellVariant] = useState&lt;'A' | 'B' | null&gt;(null);&#10;  const [acceptedDownsell, setAcceptedDownsell] = useState&lt;boolean | null&gt;(null);&#10;  const [cancellationReason, setCancellationReason] = useState&lt;string | null&gt;(null);&#10;  const [reasonFollowUpText, setReasonFollowUpText] = useState&lt;string&gt;('');&#10;&#10;  // Refs for accessibility and performance&#10;  const modalRef = useRef&lt;HTMLDivElement&gt;(null);&#10;  const focusRef = useRef&lt;HTMLButtonElement&gt;(null);&#10;&#10;  // Mock user data - using first user from seed.sql&#10;  const mockUser = useMemo(() =&gt; ({&#10;    id: '550e8400-e29b-41d4-a716-446655440001',&#10;    email: 'user1@example.com'&#10;  }), []);&#10;&#10;  // Mock subscription data - $25 plan from seed.sql&#10;  const mockSubscription = useMemo(() =&gt; ({&#10;    id: 'sub-123',&#10;    user_id: mockUser.id,&#10;    monthly_price: 2500, // $25.00 in cents&#10;    status: 'active' as const&#10;  }), [mockUser.id]);&#10;&#10;  // Handle escape key and focus management&#10;  useEffect(() =&gt; {&#10;    if (isOpen) {&#10;      const handleEscape = (e: KeyboardEvent) =&gt; {&#10;        if (e.key === 'Escape') onClose();&#10;      };&#10;      document.addEventListener('keydown', handleEscape);&#10;      focusRef.current?.focus();&#10;      return () =&gt; document.removeEventListener('keydown', handleEscape);&#10;    }&#10;  }, [isOpen, onClose]);&#10;&#10;  if (!isOpen) return null;&#10;&#10;  // Deterministic A/B testing logic with memoization&#10;  const getDownsellVariant = useCallback(() =&gt; {&#10;    if (downsellVariant) return downsellVariant; // Reuse existing variant&#10;&#10;    // Generate deterministic variant based on user ID (secure)&#10;    const hash = mockUser.id.split('').reduce((a, b) =&gt; {&#10;      a = ((a &lt;&lt; 5) - a) + b.charCodeAt(0);&#10;      return a &amp; a; // Convert to 32-bit integer&#10;    }, 0);&#10;&#10;    const variant = Math.abs(hash) % 2 === 0 ? 'A' : 'B';&#10;&#10;    // TEMPORARY: Force Variant B for testing downsell screen&#10;    const testVariant = 'B';&#10;&#10;    console.log(' A/B Testing Debug:', {&#10;      userId: mockUser.id,&#10;      hash: hash,&#10;      hashMod2: Math.abs(hash) % 2,&#10;      calculatedVariant: variant,&#10;      actualVariant: testVariant&#10;    });&#10;    setDownsellVariant(testVariant);&#10;    return testVariant;&#10;  }, [downsellVariant, mockUser.id]);&#10;&#10;  // Calculate downsell price with validation&#10;  const getDownsellPrice = useCallback(() =&gt; {&#10;    try {&#10;      const originalPrice = mockSubscription.monthly_price / 100; // Convert cents to dollars&#10;      if (originalPrice === 25) return 15; // $25 → $15&#10;      if (originalPrice === 29) return 19; // $29 → $19&#10;      return Math.max(originalPrice * 0.6, 1); // 40% off fallback with minimum $1&#10;    } catch (error) {&#10;      console.error('Error calculating downsell price:', error);&#10;      return 15; // Default fallback&#10;    }&#10;  }, [mockSubscription.monthly_price]);&#10;&#10;  const isReasonFollowUpComplete = useCallback(() =&gt; {&#10;    if (!cancellationReason) return false;&#10;&#10;    if (cancellationReason === 'Too expensive') {&#10;      return reasonFollowUpText.trim().length &gt; 0; // Any amount entered&#10;    } else {&#10;      return reasonFollowUpText.trim().length &gt;= 25; // Minimum 25 characters for textareas&#10;    }&#10;  }, [cancellationReason, reasonFollowUpText]);&#10;&#10;  const handleBack = useCallback(() =&gt; {&#10;    if (currentStep === 'congrats') {&#10;      setCurrentStep('initial');&#10;    } else if (currentStep === 'downsell') {&#10;      setCurrentStep('initial');&#10;    } else if (currentStep === 'feedback') {&#10;      // If coming from downsell, go back to downsell; if from congrats, go to congrats&#10;      if (downsellVariant === 'B' &amp;&amp; foundJobWithMigrateMate === false) {&#10;        setCurrentStep('downsell');&#10;      } else if (foundJobWithMigrateMate === true) {&#10;        setCurrentStep('congrats');&#10;      } else {&#10;        setCurrentStep('initial');&#10;      }&#10;    } else if (currentStep === 'visa') {&#10;      setCurrentStep('feedback');&#10;    }&#10;  }, [currentStep, downsellVariant, foundJobWithMigrateMate]);&#10;&#10;  const handleFoundJob = useCallback(() =&gt; {&#10;    setCurrentStep('congrats');&#10;  }, []);&#10;&#10;  const handleCongratsContinue = useCallback(() =&gt; {&#10;    // Only proceed if all required fields are filled&#10;    if (foundJobWithMigrateMate !== null &amp;&amp;&#10;        rolesApplied !== null &amp;&amp;&#10;        companiesEmailed !== null &amp;&amp;&#10;        companiesInterviewed !== null) {&#10;      setCurrentStep('feedback');&#10;    }&#10;  }, [foundJobWithMigrateMate, rolesApplied, companiesEmailed, companiesInterviewed]);&#10;&#10;  const handleFeedbackContinue = useCallback(() =&gt; {&#10;    if ((foundJobWithMigrateMate === true || foundJobWithMigrateMate === false) &amp;&amp;&#10;        feedback.length &gt;= 25) {&#10;      setCurrentStep('visa');&#10;    }&#10;  }, [foundJobWithMigrateMate, feedback.length]);&#10;&#10;  const getStepInfo = useCallback(() =&gt; {&#10;    switch (currentStep) {&#10;      case 'initial':&#10;        return { step: 0, total: 3 }; // No steps shown&#10;      case 'congrats':&#10;        return { step: 1, total: 3 };&#10;      case 'feedback':&#10;        return { step: 2, total: 3 };&#10;      case 'visa':&#10;        return { step: 3, total: 3 };&#10;      case 'downsell':&#10;        return { step: 1, total: 3 };&#10;      case 'survey':&#10;        return { step: 2, total: 3 };&#10;      case 'reason_selection':&#10;        return { step: 3, total: 3 };&#10;      case 'completed':&#10;        return { step: 0, total: 3 }; // Show completed status only&#10;      case 'downsell_completed':&#10;        return { step: 0, total: 0 }; // No progress indicator&#10;      case 'job_recommendations':&#10;        return { step: 0, total: 0 }; // No progress indicator&#10;      default:&#10;        return { step: 0, total: 3 };&#10;    }&#10;  }, [currentStep]);&#10;&#10;  // Handle completion with data callback&#10;  const handleComplete = useCallback(() =&gt; {&#10;    const data: CancellationData = {&#10;      foundJobWithMigrateMate,&#10;      rolesApplied,&#10;      companiesEmailed,&#10;      companiesInterviewed,&#10;      feedback,&#10;      hasImmigrationLawyer,&#10;      visaType,&#10;      acceptedDownsell,&#10;      cancellationReason,&#10;      reasonFollowUpText&#10;    };&#10;    onComplete?.(data);&#10;    onClose();&#10;  }, [foundJobWithMigrateMate, rolesApplied, companiesEmailed, companiesInterviewed, feedback, hasImmigrationLawyer, visaType, acceptedDownsell, cancellationReason, reasonFollowUpText, onComplete, onClose]);&#10;&#10;  const stepInfo = useMemo(() =&gt; getStepInfo(), [getStepInfo]);&#10;&#10;  return (&#10;      &lt;div className=&quot;fixed inset-0 bg-[#BAB8B4] bg-opacity-50 flex items-end justify-center z-50 lg:items-center lg:p-0.5&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-labelledby=&quot;modal-title&quot;&gt;&#10;        &lt;div ref={modalRef} className=&quot;bg-white rounded-t-2xl lg:rounded-2xl shadow-xl w-full max-w-7xl lg:w-[1300px] mt-6 lg:mt-0 flex flex-col&quot; style={{ height: 'auto' }}&gt;&#10;          {currentStep === 'initial' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6&quot;&gt;&#10;                  &lt;h2 id=&quot;modal-title&quot; className=&quot;text-lg font-bold text-black flex-1 text-center&quot;&gt;Subscription Cancellation&lt;/h2&gt;&#10;                  &lt;button&#10;                      ref={focusRef}&#10;                      onClick={onClose}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 ml-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                          Hey mate,&lt;br /&gt;&#10;                          Quick one before you go.&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;flex items-center mb-6&quot;&gt;&#10;                          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4 italic&quot;&gt;&#10;                            Have you found a job yet?&#10;                          &lt;/h3&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;p className=&quot;text-[#41403D] leading-relaxed font-bold&quot;&gt;&#10;                          Whatever your answer, we just want to help you take the next step.&#10;                          With visa support, or by hearing how we can do better.&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={handleFoundJob}&#10;                            className=&quot;w-full py-3 px-6 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-bold focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                            aria-describedby=&quot;found-job-description&quot;&#10;                        &gt;&#10;                          Yes, I&amp;apos;ve found a job&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;found-job-description&quot; className=&quot;sr-only&quot;&gt;This will start the congratulations flow&lt;/div&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setFoundJobWithMigrateMate(false);&#10;                              const variant = getDownsellVariant();&#10;                              if (variant === 'B') {&#10;                                setCurrentStep('downsell'); // Show downsell for variant B&#10;                              } else {&#10;                                onClose(); // Variant A - redirect to profile page&#10;                              }&#10;                            }}&#10;                            className=&quot;w-full py-3 px-6 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-bold focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                            aria-describedby=&quot;still-looking-description&quot;&#10;                        &gt;&#10;                          Not yet - I&amp;apos;m still looking&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;still-looking-description&quot; className=&quot;sr-only&quot;&gt;This may show a discount offer or cancel directly&lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image */}&#10;                  &lt;div className=&quot;w-[400px] h-[373px] relative overflow-hidden rounded-2xl m-5 mt-10&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl m-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;(max-width: 768px) 100vw, 400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Hey mate,&lt;br /&gt;&#10;                          Quick one before you go.&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-lg text-[#41403D] italic font-medium mb-3&quot;&gt;Have you found a job yet?&lt;/p&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm leading-relaxed font-semibold&quot;&gt;&#10;                          Whatever your answer, we just want to help you take the next step.&#10;                          With visa support, or by hearing how we can do better.&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      &lt;div className=&quot;space-y-3 pt-2&quot;&gt;&#10;                        &lt;button&#10;                            onClick={handleFoundJob}&#10;                            className=&quot;w-full py-3 px-4 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Yes, I&amp;apos;ve found a job&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setFoundJobWithMigrateMate(false);&#10;                              const variant = getDownsellVariant();&#10;                              if (variant === 'B') {&#10;                                setCurrentStep('downsell'); // Show downsell for variant B&#10;                              } else {&#10;                                onClose(); // Variant A - redirect to profile page&#10;                              }&#10;                            }}&#10;                            className=&quot;w-full py-3 px-4 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Not yet - I&amp;apos;m still looking&#10;                        &lt;/button&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {currentStep === 'completed' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;button&#10;                      onClick={() =&gt; setCurrentStep('reason_selection')}&#10;                      className=&quot;flex items-center text-[#41403D] hover:text-[#41403D] focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Go back to reason selection&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                    Back&#10;                  &lt;/button&gt;&#10;&#10;                  &lt;div className=&quot;flex-1 flex justify-center&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                      &lt;h2 className=&quot;text-lg font-bold text-black&quot;&gt;Subscription Cancelled&lt;/h2&gt;&#10;                      &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                        &lt;div className=&quot;flex space-x-1&quot; role=&quot;progressbar&quot; aria-valuenow={3} aria-valuemin={0} aria-valuemax={3} aria-label=&quot;Completion progress&quot;&gt;&#10;                          &lt;div className=&quot;w-3 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                          &lt;div className=&quot;w-3 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                          &lt;div className=&quot;w-3 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;span className=&quot;text-sm text-gray-600&quot;&gt;Completed&lt;/span&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button onClick={handleComplete} className=&quot;text-gray-400 hover:text-gray-600 ml-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot; aria-label=&quot;Close modal&quot;&gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        {/* Check if this is from the &quot;Not yet&quot; flow by checking if cancellationReason exists */}&#10;                        {cancellationReason ? (&#10;                            // &quot;Not yet&quot; flow completion&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                                Sorry to see you go, mate.&#10;                              &lt;/h3&gt;&#10;                              &lt;p className=&quot;text-xl font-semibold text-[#41403D] leading-normal mb-8&quot;&gt;&#10;                                Thanks for being with us, and you&amp;apos;re&lt;br /&gt;&#10;                                always welcome back.&#10;                              &lt;/p&gt;&#10;                              &lt;div className=&quot;space-y-2 mb-8&quot;&gt;&#10;                                &lt;p className=&quot;text-base text-[#62605C] font-bold mb-0&quot;&gt;&#10;                                  Your subscription is set to end on XX date.&#10;                                &lt;/p&gt;&#10;                                &lt;p className=&quot;text-base text-[#62605C] font-bold&quot;&gt;&#10;                                  You&amp;apos;ll still have full access until then. No further charges after that.&#10;                                &lt;/p&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;p className=&quot;text-base text-[#41403D] mb-2&quot;&gt;&#10;                                Changed your mind? You can reactivate anytime before your end date.&#10;                              &lt;/p&gt;&#10;                            &lt;/&gt;&#10;                        ) : foundJobWithMigrateMate === true ? (&#10;                            // &quot;Yes&quot; flow - found job WITH MigrateMate&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-0&quot;&gt;&#10;                                All done, your cancellation&amp;apos;s been processed.&#10;                              &lt;/h3&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-6&quot;&gt;&#10;                                been processed.&#10;                              &lt;/h3&gt;&#10;                              &lt;p className=&quot;text-[#41403D] leading-relaxed font-semibold&quot;&gt;&#10;                                We&amp;apos;re stoked to hear you&amp;apos;ve landed a job and sorted your visa.&#10;                              &lt;/p&gt;&#10;                              &lt;p className=&quot;text-[#41403D] leading-relaxed mb-8 font-semibold&quot;&gt;&#10;                                Big congrats from the team. &#10;                              &lt;/p&gt;&#10;                            &lt;/&gt;&#10;                        ) : (&#10;                            // &quot;Yes&quot; flow - found job but NOT with MigrateMate&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[rgb(65,64,61)] leading-tight mb-2&quot;&gt;&#10;                                Your cancellation&amp;apos;s all sorted, mate,&#10;                              &lt;/h3&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-8&quot;&gt;&#10;                                no more charges.&#10;                              &lt;/h3&gt;&#10;&#10;                              {/* Profile Section */}&#10;                              &lt;div className=&quot;mb-6&quot;&gt;&#10;                                &lt;div className=&quot;flex flex-col mb-4 bg-gray-100 rounded-lg p-4&quot;&gt;&#10;                                  &lt;div className=&quot;flex items-center mb-3&quot;&gt;&#10;                                    &lt;div className=&quot;w-12 h-12 rounded-full overflow-hidden mr-3&quot;&gt;&#10;                                      &lt;Image&#10;                                          src=&quot;/mihailo-profile.jpeg&quot;&#10;                                          alt=&quot;Mihailo Bozic&quot;&#10;                                          width={48}&#10;                                          height={48}&#10;                                          className=&quot;object-cover&quot;&#10;                                      /&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                      &lt;div className=&quot;font-semibold text-[#41403D]&quot;&gt;Mihailo Bozic&lt;/div&gt;&#10;                                      &lt;div className=&quot;text-[#41403D] text-sm&quot;&gt;&amp;lt;mihailo@migratemate.co&amp;gt;&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;space-y-4 mt-2 pl-10&quot;&gt;&#10;                                    &lt;p className=&quot;text-[#41403D] text-base font-bold&quot;&gt;&#10;                                      I&amp;apos;ll be reaching out soon to help with the visa side of things.&#10;                                    &lt;/p&gt;&#10;                                    &lt;p className=&quot;text-[#41403D] text-base&quot;&gt;&#10;                                      We&amp;apos;ve got your back, whether it&amp;apos;s questions, paperwork, or just&lt;br /&gt;&#10;                                      figuring out your options.&#10;                                    &lt;/p&gt;&#10;                                    &lt;p className=&quot;text-[#41403D] text-base font-semibold&quot;&gt;&#10;                                      Keep an eye on your inbox, I&amp;apos;ll be in touch &lt;u&gt;shortly&lt;/u&gt;.&#10;                                    &lt;/p&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/&gt;&#10;                        )}&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;&#10;                      &lt;button&#10;                          onClick={handleComplete}&#10;                          className=&quot;w-full py-3 px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {currentStep === 'downsell_completed' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Simple Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;h2 className=&quot;text-lg font-bold text-black flex-1 text-center&quot;&gt;Subscription&lt;/h2&gt;&#10;                  &lt;button&#10;                      onClick={handleComplete}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                          Great choice, mate!&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;mb-6&quot;&gt;&#10;                          &lt;p className=&quot;text-[#41403D] mb-2 font-bold&quot;&gt;&#10;                            You&amp;apos;re still on the path to your dream role.{' '}&#10;                            &lt;span className=&quot;text-purple-600 font-bold&quot;&gt;&#10;                          Let&amp;apos;s make it happen together!&#10;                        &lt;/span&gt;&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;mb-6&quot;&gt;&#10;                          &lt;p className=&quot;text-[#62605C] text-sm mb-0 font-bold&quot;&gt;&#10;                            You&amp;apos;ve got XX days left on your current plan.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#62605C] text-sm mb-2 font-bold&quot;&gt;&#10;                            Starting from XX date, your monthly payment will be ${acceptedDownsell ? getDownsellPrice() : (mockSubscription.monthly_price / 100)}.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#62605C] text-sm italic&quot;&gt;&#10;                            You can cancel anytime before then.&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                      &lt;button&#10;                          onClick={() =&gt; {&#10;                            setCurrentStep('job_recommendations');&#10;                          }}&#10;                          className=&quot;w-full py-3 px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        Land your dream role&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image - Aligned with content from &quot;mate&quot; to button */}&#10;                  &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl mr-5 self-start&quot; style={{ height: '270px', marginTop: '25px' }}&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Great choice, mate!&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;mb-3&quot;&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-sm mb-2&quot;&gt;&#10;                            You&amp;apos;re still on the path to your dream role.{' '}&#10;                            &lt;span className=&quot;text-purple-600 font-semibold&quot;&gt;&#10;                          Let&amp;apos;s make it happen together!&#10;                        &lt;/span&gt;&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;mb-4&quot;&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                            You&amp;apos;ve got XX days left on your current plan.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                            Starting from XX date, your monthly payment will be ${acceptedDownsell ? getDownsellPrice() : (mockSubscription.monthly_price / 100)}.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-xs italic&quot;&gt;&#10;                            You can cancel anytime before then.&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      &lt;button&#10;                          onClick={() =&gt; {&#10;                            setCurrentStep('job_recommendations');&#10;                          }}&#10;                          className=&quot;w-full py-3 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        Land your dream role&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {currentStep === 'job_recommendations' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;h2 className=&quot;text-lg font-bold text-black flex-1 text-center&quot;&gt;Subscription&lt;/h2&gt;&#10;                  &lt;button&#10;                      onClick={handleComplete}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:block overflow-hidden h-full&quot;&gt;&#10;                  &lt;div className=&quot;flex gap-4 h-full p-6&quot;&gt;&#10;                    {/* Left Content - Properly constrained */}&#10;                    &lt;div className=&quot;flex-1 min-w-0 overflow-y-auto&quot;&gt;&#10;                      &lt;div className=&quot;space-y-4 pr-4&quot;&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                            Awesome — we&amp;apos;ve pulled together a few roles that seem like a great fit for you.&#10;                          &lt;/h3&gt;&#10;                          &lt;p className=&quot;text-[#41403D] mb-4&quot;&gt;&#10;                            Take a look and see what sparks your interest.&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Job Card - Compact but complete */}&#10;                        &lt;article className=&quot;bg-white border border-gray-200 rounded-lg p-4 mb-4 w-full&quot; role=&quot;article&quot; aria-labelledby=&quot;job-title&quot;&gt;&#10;                          &lt;div className=&quot;flex items-start justify-between mb-3 gap-3&quot;&gt;&#10;                            &lt;div className=&quot;flex items-center min-w-0 flex-1&quot;&gt;&#10;                              &lt;div className=&quot;w-10 h-10 bg-blue-600 rounded flex items-center justify-center mr-3 flex-shrink-0&quot; aria-hidden=&quot;true&quot;&gt;&#10;                                &lt;span className=&quot;text-white font-bold text-sm&quot;&gt;AC&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;min-w-0&quot;&gt;&#10;                                &lt;h4 id=&quot;job-title&quot; className=&quot;font-semibold text-[#41403D]&quot;&gt;Automation Controls Engineer&lt;/h4&gt;&#10;                                &lt;p className=&quot;text-sm text-gray-600&quot;&gt;Randstad USA • Memphis, Tennessee&lt;/p&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-right flex-shrink-0&quot;&gt;&#10;                              &lt;div className=&quot;flex flex-wrap gap-1 text-xs justify-end&quot; role=&quot;list&quot; aria-label=&quot;Job details&quot;&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;Full Time&lt;/span&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;Associate&lt;/span&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;Bachelor&amp;apos;s&lt;/span&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;On-Site&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* Combined section with visa cards and salary aligned */}&#10;                          &lt;div className=&quot;mb-3&quot;&gt;&#10;                            &lt;div className=&quot;text-right text-sm text-gray-600 mb-2&quot;&gt;&#10;                              Visas sponsored by company in the last year&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                              {/* Left side - Salary */}&#10;                              &lt;div className=&quot;flex items-center&quot;&gt;&#10;                                &lt;span className=&quot;bg-green-100 text-green-800 text-xs px-2 py-1 rounded mr-2&quot;&gt;NEW JOB&lt;/span&gt;&#10;                                &lt;span className=&quot;text-sm font-semibold text-[#41403D]&quot;&gt;$150,000/yr - $170,000/yr&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;&#10;                              {/* Right side - Visa cards */}&#10;                              &lt;div className=&quot;flex items-start space-x-2&quot; role=&quot;list&quot; aria-label=&quot;Visa sponsorship information&quot;&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;205 Green Cards sponsored&quot;&gt;&#10;                                    205&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;flex items-center bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 bg-green-500 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-gray-600&quot;&gt;Green Card&lt;/span&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;1 AU E-3 visa sponsored&quot;&gt;&#10;                                    1&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;AU E-3&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple CA/MX TN visas sponsored&quot;&gt;&#10;                                    +&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;CA/MX TN&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple OPT visas sponsored&quot;&gt;&#10;                                    +&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;flex items-center bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 bg-gray-400 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-gray-600&quot;&gt;OPT&lt;/span&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                          &lt;p className=&quot;text-gray-700 mb-3 text-sm leading-relaxed&quot;&gt;&#10;                            The Electrical Automation Controls Engineer will design, implement, and maintain industrial automation systems, specializing in&#10;                            PLC programming using Siemens TIA Portal. The ideal candidate will have a bachelor&amp;apos;s degree in Electrical Engineering and at&#10;                            least 4 years of industrial automation experience. This role offers autonomy and is ideal for someone seeking growth in a&#10;                            supportive company. Key benefits include comprehensive healthcare and retirement plans.&#10;                          &lt;/p&gt;&#10;&#10;                          &lt;div className=&quot;flex items-center justify-between gap-3 flex-wrap&quot;&gt;&#10;                            &lt;div className=&quot;text-sm text-gray-500 min-w-0&quot;&gt;&#10;                              Company visa contact: &lt;a href=&quot;mailto:barbara.tuck@randstadusa.com&quot; className=&quot;text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded&quot;&gt;barbara.tuck@randstadusa.com&lt;/a&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;flex space-x-2 flex-shrink-0&quot;&gt;&#10;                              &lt;button className=&quot;px-4 py-2 border border-blue-600 text-blue-600 rounded hover:bg-gray-50 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot; aria-label=&quot;Save this job for later&quot;&gt;&#10;                                Save Job&#10;                              &lt;/button&gt;&#10;                              &lt;button className=&quot;px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot; aria-label=&quot;Apply to this job&quot;&gt;&#10;                                Apply&#10;                              &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/article&gt;&#10;&#10;                        &lt;button&#10;                            onClick={handleComplete}&#10;                            className=&quot;w-full py-3 px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Land your dream role&#10;                        &lt;/button&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Right Image - Fixed width */}&#10;                    &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl flex-shrink-0&quot; style={{ height: '500px' }}&gt;&#10;                      &lt;Image&#10;                          src=&quot;/empire-state-compressed.jpg&quot;&#10;                          alt=&quot;New York City skyline with Empire State Building&quot;&#10;                          fill&#10;                          className=&quot;object-cover&quot;&#10;                          priority&#10;                          sizes=&quot;400px&quot;&#10;                      /&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Awesome — we&amp;apos;ve pulled together a few roles that seem like a great fit for you.&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm mb-4&quot;&gt;&#10;                          Take a look and see what sparks your interest.&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Mobile Job Card */}&#10;                      &lt;article className=&quot;bg-white border border-gray-200 rounded-lg p-3 mb-4&quot; role=&quot;article&quot; aria-labelledby=&quot;mobile-job-title&quot;&gt;&#10;                        &lt;div className=&quot;flex items-start mb-2&quot;&gt;&#10;                          &lt;div className=&quot;w-8 h-8 bg-blue-600 rounded flex items-center justify-center mr-2&quot; aria-hidden=&quot;true&quot;&gt;&#10;                            &lt;span className=&quot;text-white font-bold text-xs&quot;&gt;AC&lt;/span&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;flex-1&quot;&gt;&#10;                            &lt;h4 id=&quot;mobile-job-title&quot; className=&quot;font-semibold text-[#41403D] text-sm&quot;&gt;Automation Controls Engineer&lt;/h4&gt;&#10;                            &lt;p className=&quot;text-xs text-gray-600&quot;&gt;Randstad USA • Memphis, Tennessee&lt;/p&gt;&#10;                            &lt;div className=&quot;flex flex-wrap gap-1 mt-1&quot; role=&quot;list&quot; aria-label=&quot;Job details&quot;&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Full Time&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Associate&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Bachelor&amp;apos;s&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;On-Site&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Mobile Visa sponsorship section */}&#10;                        &lt;div className=&quot;mb-2 text-xs text-gray-600&quot;&gt;&#10;                          &lt;div className=&quot;text-center mb-2&quot;&gt;Visas sponsored by company in the last year&lt;/div&gt;&#10;                          &lt;div className=&quot;flex justify-center items-start space-x-1&quot; role=&quot;list&quot; aria-label=&quot;Visa sponsorship information&quot;&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;205 Green Cards&quot;&gt;&#10;                                205&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;flex items-center bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;span className=&quot;w-1.5 h-1.5 bg-green-500 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                &lt;span className=&quot;text-gray-600&quot;&gt;Green Card&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;1 AU E-3 visa&quot;&gt;&#10;                                1&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;AU E-3&lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple CA/MX TN visas&quot;&gt;&#10;                                +&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;CA/MX TN&lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple OPT visas&quot;&gt;&#10;                                +&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;flex items-center bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;span className=&quot;w-1.5 h-1.5 bg-gray-400 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                &lt;span className=&quot;text-gray-600&quot;&gt;OPT&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;mb-2&quot;&gt;&#10;                          &lt;span className=&quot;bg-green-100 text-green-800 text-xs px-1 py-0.5 rounded mr-1&quot;&gt;NEW JOB&lt;/span&gt;&#10;                          &lt;span className=&quot;text-xs font-semibold text-[#41403D]&quot;&gt;$150,000/yr - $170,000/yr&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;p className=&quot;text-xs text-gray-700 mb-3&quot;&gt;&#10;                          The Electrical Automation Controls Engineer will design, implement, and maintain industrial automation systems,&#10;                          specializing in PLC programming using Siemens TIA Portal. The ideal candidate will have a bachelor&amp;apos;s degree in&#10;                          Electrical Engineering and at least 4 years of industrial automation experience. This role offers autonomy and is&#10;                          ideal for someone seeking growth in a supportive company. Key benefits include competitive salary and retirement plans.&#10;                        &lt;/p&gt;&#10;&#10;                        &lt;div className=&quot;mb-2 text-xs text-gray-500&quot;&gt;&#10;                          Company visa contact: &lt;a href=&quot;mailto:barbara.beck@randstadusa.com&quot; className=&quot;text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded&quot;&gt;barbara.beck@randstadusa.com&lt;/a&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;flex space-x-2&quot;&gt;&#10;                          &lt;button className=&quot;flex-1 px-3 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 text-xs focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2&quot; aria-label=&quot;Save this job for later&quot;&gt;&#10;                            Save Job&#10;                          &lt;/button&gt;&#10;                          &lt;button className=&quot;flex-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot; aria-label=&quot;Apply to this job&quot;&gt;&#10;                            Apply&#10;                          &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/article&gt;&#10;&#10;                      &lt;button&#10;                          onClick={handleComplete}&#10;                          className=&quot;w-full py-3 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        Land your dream role&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {/* Survey Screen */}&#10;          {currentStep === 'survey' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;button&#10;                      onClick={() =&gt; setCurrentStep('downsell')}&#10;                      className=&quot;flex items-center text-[#41403D] hover:text-[#41403D] focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Go back to downsell offer&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                    Back&#10;                  &lt;/button&gt;&#10;&#10;                  &lt;div className=&quot;flex-1 flex justify-center&quot;&gt;&#10;                    &lt;h2 className=&quot;text-lg font-bold text-black&quot;&gt;Subscription Cancellation&lt;/h2&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                    &lt;div className=&quot;flex space-x-1&quot; role=&quot;progressbar&quot; aria-valuenow={2} aria-valuemin={0} aria-valuemax={3} aria-label=&quot;Step 2 of 3&quot;&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-gray-300 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;span className=&quot;text-sm text-gray-600&quot;&gt;Step 2 of 3&lt;/span&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button onClick={handleComplete} className=&quot;text-gray-400 hover:text-gray-600 ml-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot; aria-label=&quot;Close modal&quot;&gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-6 pr-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                          Help us understand how you were using Migrate Mate.&#10;                        &lt;/h3&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Question 1: Roles Applied */}&#10;                      &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many roles did you &lt;u&gt;apply&lt;/u&gt; for through Migrate Mate?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;roles-applied-label&quot;&gt;&#10;                          {['0', '1 - 5', '6 - 20', '20+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setRolesAppliedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={rolesAppliedSurvey === option}&#10;                                  className={`py-2 px-3 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${&#10;                                      rolesAppliedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Question 2: Companies Emailed */}&#10;                      &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many companies did you &lt;u&gt;email&lt;/u&gt; directly?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;companies-emailed-label&quot;&gt;&#10;                          {['0', '1-5', '6-20', '20+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setCompaniesEmailedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={companiesEmailedSurvey === option}&#10;                                  className={`py-2 px-3 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${&#10;                                      companiesEmailedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Question 3: Companies Interviewed */}&#10;                      &lt;fieldset className=&quot;mb-5&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many different companies did you &lt;u&gt;interview&lt;/u&gt; with?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;companies-interviewed-label&quot;&gt;&#10;                          {['0', '1-2', '3-5', '5+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setCompaniesInterviewedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={companiesInterviewedSurvey === option}&#10;                                  className={`py-2 px-3 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${&#10;                                      companiesInterviewedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Buttons */}&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setAcceptedDownsell(true);&#10;                              setCurrentStep('downsell_completed');&#10;                            }}&#10;                            className=&quot;w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Get 50% off | $12.50 &lt;span className=&quot;text-green-200 line-through&quot;&gt;$25&lt;/span&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              if (rolesAppliedSurvey &amp;&amp; companiesEmailedSurvey &amp;&amp; companiesInterviewedSurvey) {&#10;                                setCurrentStep('reason_selection');&#10;                              }&#10;                            }}&#10;                            disabled={!rolesAppliedSurvey || !companiesEmailedSurvey || !companiesInterviewedSurvey}&#10;                            className={`w-full py-3 px-6 rounded-lg transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${&#10;                                rolesAppliedSurvey &amp;&amp; companiesEmailedSurvey &amp;&amp; companiesInterviewedSurvey&#10;                                    ? 'bg-red-500 text-white hover:bg-red-600 cursor-pointer focus:ring-red-500'&#10;                                    : 'bg-gray-200 text-[#41403D] cursor-not-allowed opacity-60 focus:ring-gray-300'&#10;                            }`}&#10;                            aria-describedby=&quot;continue-disabled-help&quot;&#10;                        &gt;&#10;                          Continue&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;continue-disabled-help&quot; className=&quot;sr-only&quot;&gt;&#10;                          {!rolesAppliedSurvey || !companiesEmailedSurvey || !companiesInterviewedSurvey ? 'Please answer all questions to continue' : ''}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image */}&#10;                  &lt;div className=&quot;w-[350px] relative overflow-hidden rounded-2xl mr-5 self-start&quot; style={{ height: '400px', marginTop: '15px' }}&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;350px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                          Help us understand how you were using Migrate Mate.&#10;                        &lt;/h3&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Question 1: Roles Applied */}&#10;                      &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many roles did you &lt;u&gt;apply&lt;/u&gt; for through Migrate Mate?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                          {['0', '1 - 5', '6 - 20', '20+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setRolesAppliedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={rolesAppliedSurvey === option}&#10;                                  className={`py-2 px-2 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-1 ${&#10;                                      rolesAppliedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Question 2: Companies Emailed */}&#10;                      &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many companies did you &lt;u&gt;email&lt;/u&gt; directly?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                          {['0', '1-5', '6-20', '20+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setCompaniesEmailedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={companiesEmailedSurvey === option}&#10;                                  className={`py-2 px-2 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-1 ${&#10;                                      companiesEmailedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Question 3: Companies Interviewed */}&#10;                      &lt;fieldset className=&quot;mb-6&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many different companies did you &lt;u&gt;interview&lt;/u&gt; with?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                          {['0', '1-2', '3-5', '5+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setCompaniesInterviewedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={companiesInterviewedSurvey === option}&#10;                                  className={`py-2 px-2 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-1 ${&#10;                                      companiesInterviewedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Buttons */}&#10;                      &lt;div className=&quot;space-y-3 mb-6&quot;&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setAcceptedDownsell(true);&#10;                              setCurrentStep('downsell_completed');&#10;                            }}&#10;                            className=&quot;w-full py-3 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Get 50% off | $12.50 &lt;span className=&quot;text-green-200 line-through&quot;&gt;$25&lt;/span&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              if (rolesAppliedSurvey &amp;&amp; companiesEmailedSurvey &amp;&amp; companiesInterviewedSurvey) {&#10;                                setCurrentStep('reason_selection');&#10;                              }&#10;                            }}&#10;                            disabled={!rolesAppliedSurvey || !companiesEmailedSurvey || !companiesInterviewedSurvey}&#10;                            className={`w-full py-3 px-4 rounded-lg transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${&#10;                                rolesAppliedSurvey &amp;&amp; companiesEmailedSurvey &amp;&amp; companiesInterviewedSurvey&#10;                                    ? 'bg-red-500 text-white hover:bg-red-600 cursor-pointer focus:ring-red-500'&#10;                                    : 'bg-gray-200 text-[#41403D] cursor-not-allowed opacity-60 focus:ring-gray-300'&#10;                            }`}&#10;                        &gt;&#10;                          Continue&#10;                        &lt;/button&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {currentStep === 'reason_selection' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;button&#10;                      onClick={() =&gt; setCurrentStep('survey')}&#10;                      className=&quot;flex items-center text-[#41403D] hover:text-[#41403D] focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Go back to survey&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                    Back&#10;                  &lt;/button&gt;&#10;&#10;                  &lt;div className=&quot;flex-1 flex justify-center&quot;&gt;&#10;                    &lt;h2 className=&quot;text-lg font-bold text-black&quot;&gt;Subscription Cancellation&lt;/h2&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                    &lt;div className=&quot;flex space-x-1&quot; role=&quot;progressbar&quot; aria-valuenow={3} aria-valuemin={0} aria-valuemax={3} aria-label=&quot;Step 3 of 3&quot;&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;span className=&quot;text-sm text-gray-600&quot;&gt;Step 3 of 3&lt;/span&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button onClick={handleComplete} className=&quot;text-gray-400 hover:text-gray-600 ml-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot; aria-label=&quot;Close modal&quot;&gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-2&quot;&gt;&#10;                          What&amp;apos;s the main reason for cancelling?&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm mb-4&quot;&gt;&#10;                          Please take a minute to let us know why:&#10;                        &lt;/p&gt;&#10;                        {!cancellationReason &amp;&amp; (&#10;                            &lt;p className=&quot;text-red-500 text-sm mb-6&quot; role=&quot;alert&quot;&gt;&#10;                              To help us understand your experience, please select a reason for cancelling*&#10;                            &lt;/p&gt;&#10;                        )}&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Radio Button Options */}&#10;                      &lt;fieldset className=&quot;space-y-4 mb-8&quot;&gt;&#10;                        &lt;legend className=&quot;sr-only&quot;&gt;Cancellation reason&lt;/legend&gt;&#10;                        {!cancellationReason ? (&#10;                            // Show all options when none selected&#10;                            [&#10;                              'Too expensive',&#10;                              'Platform not helpful',&#10;                              'Not enough relevant jobs',&#10;                              'Decided not to move',&#10;                              'Other'&#10;                            ].map((reason) =&gt; (&#10;                                &lt;label key={reason} className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={reason}&#10;                                      checked={cancellationReason === reason}&#10;                                      onChange={(e) =&gt; {&#10;                                        setCancellationReason(e.target.value);&#10;                                        setReasonFollowUpText(''); // Reset follow-up text when changing reason&#10;                                      }}&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;ml-3 text-[#41403D] font-medium&quot;&gt;{reason}&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                            ))&#10;                        ) : (&#10;                            // Show only selected option and follow-up&#10;                            &lt;div className=&quot;space-y-4&quot;&gt;&#10;                              &lt;label className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                &lt;div className=&quot;relative flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={cancellationReason}&#10;                                      checked={true}&#10;                                      readOnly&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 opacity-0&quot;&#10;                                  /&gt;&#10;                                  {/* Custom checked state indicator - perfectly positioned */}&#10;                                  &lt;div className=&quot;absolute left-0 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-gray-800 border border-gray-800 rounded-full flex items-center justify-center&quot; aria-hidden=&quot;true&quot;&gt;&#10;                                    &lt;div className=&quot;w-2 h-2 bg-white rounded-full&quot;&gt;&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;span className=&quot;ml-3 text-[#41403D] font-medium&quot;&gt;{cancellationReason}&lt;/span&gt;&#10;                              &lt;/label&gt;&#10;&#10;                              {/* Follow-up question based on selection */}&#10;                              &lt;div className=&quot;mt-4&quot;&gt;&#10;                                {cancellationReason === 'Too expensive' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;price-input&quot; className=&quot;text-[#41403D] font-medium mb-3 block&quot;&gt;&#10;                                        What would be the maximum you would be willing to pay?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;div className=&quot;relative&quot;&gt;&#10;                                        &lt;span className=&quot;absolute left-3 top-1/2 transform -translate-y-1/2 text-[#41403D]&quot; aria-hidden=&quot;true&quot;&gt;$&lt;/span&gt;&#10;                                        &lt;input&#10;                                            id=&quot;price-input&quot;&#10;                                            type=&quot;text&quot;&#10;                                            placeholder=&quot;Enter amount&quot;&#10;                                            value={reasonFollowUpText}&#10;                                            onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                            className=&quot;w-full pl-6 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black&quot;&#10;                                            aria-describedby=&quot;price-help&quot;&#10;                                        /&gt;&#10;                                        &lt;div id=&quot;price-help&quot; className=&quot;sr-only&quot;&gt;Enter the maximum monthly amount you would be willing to pay&lt;/div&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Platform not helpful' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;platform-feedback&quot; className=&quot;text-[#41403D] font-medium mb-3 block&quot;&gt;&#10;                                        What can we change to make the platform more helpful?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;p className=&quot;text-red-500 text-sm mb-3&quot; role=&quot;alert&quot;&gt;&#10;                                        Please enter at least 25 characters so we can understand your feedback*&#10;                                      &lt;/p&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;platform-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve...&quot;&#10;                                          rows={4}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-black&quot;&#10;                                          aria-describedby=&quot;platform-char-count&quot;&#10;                                      /&gt;&#10;                                      &lt;p id=&quot;platform-char-count&quot; className=&quot;text-sm text-gray-500 text-right mt-1&quot;&gt;&#10;                                        Min 25 characters ({reasonFollowUpText.length}/25)&#10;                                      &lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Not enough relevant jobs' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;jobs-feedback&quot; className=&quot;text-[#41403D] font-medium mb-3 block&quot;&gt;&#10;                                        In which way can we make the jobs more relevant?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;jobs-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve job relevance...&quot;&#10;                                          rows={4}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-black&quot;&#10;                                          aria-describedby=&quot;jobs-char-count&quot;&#10;                                      /&gt;&#10;                                      &lt;p id=&quot;jobs-char-count&quot; className=&quot;text-sm text-gray-500 text-right mt-1&quot;&gt;&#10;                                        Min 25 characters ({reasonFollowUpText.length}/25)&#10;                                      &lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Decided not to move' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;move-feedback&quot; className=&quot;text-[#41403D] font-medium mb-3 block&quot;&gt;&#10;                                        What changed for you to decide to not move?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;move-feedback&quot;&#10;                                          placeholder=&quot;Tell us what changed your mind...&quot;&#10;                                          rows={4}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-black&quot;&#10;                                          aria-describedby=&quot;move-char-count&quot;&#10;                                      /&gt;&#10;                                      &lt;p id=&quot;move-char-count&quot; className=&quot;text-sm text-gray-500 text-right mt-1&quot;&gt;&#10;                                        Min 25 characters ({reasonFollowUpText.length}/25)&#10;                                      &lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Other' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;other-feedback&quot; className=&quot;text-[#41403D] font-medium mb-3 block&quot;&gt;&#10;                                        What would have helped you the most?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;other-feedback&quot;&#10;                                          placeholder=&quot;Tell us what would have helped...&quot;&#10;                                          rows={4}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-black&quot;&#10;                                          aria-describedby=&quot;other-char-count&quot;&#10;                                      /&gt;&#10;                                      &lt;p id=&quot;other-char-count&quot; className=&quot;text-sm text-gray-500 text-right mt-1&quot;&gt;&#10;                                        Min 25 characters ({reasonFollowUpText.length}/25)&#10;                                      &lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        )}&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Buttons */}&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setAcceptedDownsell(true);&#10;                              handleComplete(); // Complete the cancellation flow&#10;                            }}&#10;                            className=&quot;w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Get 50% off | $12.50 &lt;span className=&quot;text-green-200 line-through&quot;&gt;$25&lt;/span&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              if (isReasonFollowUpComplete()) {&#10;                                setCurrentStep('completed');&#10;                              }&#10;                            }}&#10;                            disabled={!isReasonFollowUpComplete()}&#10;                            className={`w-full py-3 px-6 rounded-lg transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${&#10;                                isReasonFollowUpComplete()&#10;                                    ? 'bg-red-500 text-white hover:bg-red-600 focus:ring-red-500'&#10;                                    : 'bg-gray-200 text-[#41403D] cursor-not-allowed opacity-60 focus:ring-gray-300'&#10;                            }`}&#10;                            aria-describedby=&quot;complete-disabled-help&quot;&#10;                        &gt;&#10;                          Complete cancellation&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;complete-disabled-help&quot; className=&quot;sr-only&quot;&gt;&#10;                          {!isReasonFollowUpComplete() ? 'Please complete the follow-up question to continue' : ''}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image */}&#10;                  &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl mb-8 mr-5 self-stretch&quot; style={{ marginTop: '25px' }}&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          What&amp;apos;s the main reason for cancelling?&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm mb-3&quot;&gt;&#10;                          Please take a minute to let us know why:&#10;                        &lt;/p&gt;&#10;                        {!cancellationReason &amp;&amp; (&#10;                            &lt;p className=&quot;text-red-500 text-sm mb-4&quot; role=&quot;alert&quot;&gt;&#10;                              To help us understand your experience, please select a reason for cancelling*&#10;                            &lt;/p&gt;&#10;                        )}&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Radio Button Options */}&#10;                      &lt;fieldset className=&quot;space-y-3 mb-6&quot;&gt;&#10;                        &lt;legend className=&quot;sr-only&quot;&gt;Cancellation reason&lt;/legend&gt;&#10;                        {!cancellationReason ? (&#10;                            // Show all options when none selected&#10;                            [&#10;                              'Too expensive',&#10;                              'Platform not helpful',&#10;                              'Not enough relevant jobs',&#10;                              'Decided not to move',&#10;                              'Other'&#10;                            ].map((reason) =&gt; (&#10;                                &lt;label key={reason} className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={reason}&#10;                                      checked={cancellationReason === reason}&#10;                                      onChange={(e) =&gt; {&#10;                                        setCancellationReason(e.target.value);&#10;                                        setReasonFollowUpText(''); // Reset follow-up text when changing reason&#10;                                      }}&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;ml-3 text-[#41403D] font-medium text-sm&quot;&gt;{reason}&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                            ))&#10;                        ) : (&#10;                            // Show only selected option and follow-up&#10;                            &lt;div className=&quot;space-y-3&quot;&gt;&#10;                              &lt;label className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                &lt;div className=&quot;relative flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={cancellationReason}&#10;                                      checked={true}&#10;                                      readOnly&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 opacity-0&quot;&#10;                                  /&gt;&#10;                                  {/* Custom checked state indicator - perfectly positioned */}&#10;                                  &lt;div className=&quot;absolute left-0 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-gray-800 border border-gray-800 rounded-full flex items-center justify-center&quot; aria-hidden=&quot;true&quot;&gt;&#10;                                    &lt;div className=&quot;w-2 h-2 bg-white rounded-full&quot;&gt;&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;span className=&quot;ml-3 text-[#41403D] font-medium text-sm&quot;&gt;{cancellationReason}&lt;/span&gt;&#10;                              &lt;/label&gt;&#10;&#10;                              {/* Follow-up question based on selection */}&#10;                              &lt;div className=&quot;mt-3&quot;&gt;&#10;                                {cancellationReason === 'Too expensive' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-price-input&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What would be the maximum you would be willing to pay?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;div className=&quot;relative&quot;&gt;&#10;                                        &lt;span className=&quot;absolute left-3 top-1/2 transform -translate-y-1/2 text-[#41403D]&quot; aria-hidden=&quot;true&quot;&gt;$&lt;/span&gt;&#10;                                        &lt;input&#10;                                            id=&quot;mobile-price-input&quot;&#10;                                            type=&quot;text&quot;&#10;                                            placeholder=&quot;Enter amount&quot;&#10;                                            value={reasonFollowUpText}&#10;                                            onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                            className=&quot;w-full pl-6 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm text-black&quot;&#10;                                        /&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Platform not helpful' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-platform-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What can we change to make the platform more helpful?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;p className=&quot;text-red-500 text-xs mb-2&quot; role=&quot;alert&quot;&gt;&#10;                                        Please enter at least 25 characters so we can understand your feedback*&#10;                                      &lt;/p&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-platform-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Not enough relevant jobs' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-jobs-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        In which way can we make the jobs more relevant?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-jobs-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve job relevance...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Decided not to move' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-move-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What changed for you to decide to not move?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-move-feedback&quot;&#10;                                          placeholder=&quot;Tell us what changed your mind...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Other' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-other-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What would have helped you the most?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-other-feedback&quot;&#10;                                          placeholder=&quot;Tell us what would have helped...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        )}&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Buttons */}&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setAcceptedDownsell(true);&#10;                              handleComplete(); // Complete the cancellation flow&#10;                            }}&#10;                            className=&quot;w-full py-3 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Get 50% off | $12.50 &lt;span className=&quot;text-green-200 line-through&quot;&gt;$25&lt;/span&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              if (isReasonFollowUpComplete()) {&#10;                                setCurrentStep('completed');&#10;                              }&#10;                            }}&#10;                            disabled={!isReasonFollowUpComplete()}&#10;                            className={`w-full py-3 px-4 rounded-lg transition-colors font-medium text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ${&#10;                                isReasonFollowUpComplete()&#10;                                    ? 'bg-red-500 text-white hover:bg-red-600 focus:ring-red-500'&#10;                                    : 'bg-gray-200 text-[#41403D] cursor-not-allowed opacity-60 focus:ring-gray-300'&#10;                            }`}&#10;                        &gt;&#10;                          Complete cancellation&#10;                        &lt;/button&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {/* Other screens (congrats, feedback) */}&#10;          {currentStep !== 'initial' &amp;&amp; currentStep !== 'completed' &amp;&amp; currentStep !== 'downsell_completed' &amp;&amp; currentStep !== 'job_recommendations' &amp;&amp; currentStep !== 'survey' &amp;&amp; currentStep !== 'reason_selection' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header with back button and progress */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;button&#10;                      onClick={handleBack}&#10;                      className=&quot;flex items-center text-[#41403D] hover:text-[#41403D] focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Go back to previous step&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                    Back&#10;                  &lt;/button&gt;&#10;&#10;                  &lt;div className=&quot;flex items-center&quot;&gt;&#10;                    &lt;h2 className=&quot;text-lg font-semibold text-black&quot;&gt;Subscription Cancellation&lt;/h2&gt;&#10;                    &lt;div className=&quot;flex items-center ml-3 space-x-2&quot;&gt;&#10;                      &lt;div className=&quot;flex space-x-1&quot; role=&quot;progressbar&quot; aria-valuenow={stepInfo.step} aria-valuemin={0} aria-valuemax={stepInfo.total} aria-label={`Step ${stepInfo.step} of ${stepInfo.total}`}&gt;&#10;                        {[...Array(stepInfo.total)].map((_, i) =&gt; (&#10;                            &lt;div&#10;                                key={i}&#10;                                className={`w-4 h-2 rounded-sm ${&#10;                                    i &lt; stepInfo.step ? 'bg-green-500' : 'bg-gray-300'&#10;                                }`}&#10;                                aria-hidden=&quot;true&quot;&#10;                            /&gt;&#10;                        ))}&#10;                      &lt;/div&gt;&#10;                      &lt;span className=&quot;text-sm text-[#41403D]&quot;&gt;Step {stepInfo.step} of {stepInfo.total}&lt;/span&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button&#10;                      onClick={handleComplete}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Content for other screens */}&#10;                &lt;div className=&quot;flex flex-col lg:flex-row&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8&quot;&gt;&#10;                    {currentStep === 'congrats' &amp;&amp; (&#10;                        &lt;div className=&quot;flex flex-col h-full justify-between&quot;&gt;&#10;                          &lt;div className=&quot;space-y-6&quot;&gt;&#10;                            &lt;div&gt;&#10;                              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                Congrats on the new role! &#10;                              &lt;/h3&gt;&#10;                              &lt;fieldset className=&quot;mb-6&quot;&gt;&#10;                                &lt;legend className=&quot;text-[#41403D] mb-4&quot;&gt;Did you find this job with MigrateMate?*&lt;/legend&gt;&#10;                                &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                                  &lt;button&#10;                                      onClick={() =&gt; setFoundJobWithMigrateMate(true)}&#10;                                      role=&quot;radio&quot;&#10;                                      aria-checked={foundJobWithMigrateMate === true}&#10;                                      className={`w-full px-6 py-2 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                          foundJobWithMigrateMate === true&#10;                                              ? 'bg-blue-600 text-white border-blue-600'&#10;                                              : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                      }`}&#10;                                  &gt;&#10;                                    Yes&#10;                                  &lt;/button&gt;&#10;                                  &lt;button&#10;                                      onClick={() =&gt; setFoundJobWithMigrateMate(false)}&#10;                                      role=&quot;radio&quot;&#10;                                      aria-checked={foundJobWithMigrateMate === false}&#10;                                      className={`w-full px-6 py-2 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                          foundJobWithMigrateMate === false&#10;                                              ? 'bg-blue-600 text-white border-blue-600'&#10;                                              : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                      }`}&#10;                                  &gt;&#10;                                    No&#10;                                  &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Survey Questions */}&#10;                            &lt;div className=&quot;space-y-4&quot;&gt;&#10;                              &lt;fieldset&gt;&#10;                                &lt;legend className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                  How many roles did you &lt;u&gt;apply&lt;/u&gt; for through MigrateMate?*&#10;                                &lt;/legend&gt;&#10;                                &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                                  {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                                      &lt;button&#10;                                          key={option}&#10;                                          onClick={() =&gt; setRolesApplied(index)}&#10;                                          role=&quot;radio&quot;&#10;                                          aria-checked={rolesApplied === index}&#10;                                          className={`px-4 py-2 rounded-lg border transition-colors h-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                              rolesApplied === index&#10;                                                  ? 'bg-blue-600 text-white border-blue-600'&#10;                                                  : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                          }`}&#10;                                      &gt;&#10;                                        {option}&#10;                                      &lt;/button&gt;&#10;                                  ))}&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;&#10;                              &lt;fieldset&gt;&#10;                                &lt;legend className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                  How many companies did you &lt;u&gt;email&lt;/u&gt; directly?*&#10;                                &lt;/legend&gt;&#10;                                &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                                  {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                                      &lt;button&#10;                                          key={option}&#10;                                          onClick={() =&gt; setCompaniesEmailed(index)}&#10;                                          role=&quot;radio&quot;&#10;                                          aria-checked={companiesEmailed === index}&#10;                                          className={`px-4 py-2 rounded-lg border transition-colors h-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                              companiesEmailed === index&#10;                                                  ? 'bg-blue-600 text-white border-blue-600'&#10;                                                  : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                          }`}&#10;                                      &gt;&#10;                                        {option}&#10;                                      &lt;/button&gt;&#10;                                  ))}&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;&#10;                              &lt;fieldset&gt;&#10;                                &lt;legend className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                  How many different companies did you &lt;u&gt;interview&lt;/u&gt; with?*&#10;                                &lt;/legend&gt;&#10;                                &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                                  {[&quot;0&quot;, &quot;1-2&quot;, &quot;3-5&quot;, &quot;5+&quot;].map((option, index) =&gt; (&#10;                                      &lt;button&#10;                                          key={option}&#10;                                          onClick={() =&gt; setCompaniesInterviewed(index)}&#10;                                          role=&quot;radio&quot;&#10;                                          aria-checked={companiesInterviewed === index}&#10;                                          className={`px-4 py-2 rounded-lg border transition-colors h-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                              companiesInterviewed === index&#10;                                                  ? 'bg-blue-600 text-white border-blue-600'&#10;                                                  : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                          }`}&#10;                                      &gt;&#10;                                        {option}&#10;                                      &lt;/button&gt;&#10;                                  ))}&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;mt-6&quot;&gt;&#10;                            &lt;button&#10;                                onClick={handleCongratsContinue}&#10;                                disabled={foundJobWithMigrateMate === null || rolesApplied === null || companiesEmailed === null || companiesInterviewed === null}&#10;                                className=&quot;w-full py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;&#10;                                aria-describedby=&quot;congrats-continue-help&quot;&#10;                            &gt;&#10;                              Continue&#10;                            &lt;/button&gt;&#10;                            &lt;div id=&quot;congrats-continue-help&quot; className=&quot;sr-only&quot;&gt;&#10;                              {(foundJobWithMigrateMate === null || rolesApplied === null || companiesEmailed === null || companiesInterviewed === null) ? 'Please answer all questions to continue' : ''}&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {currentStep === 'feedback' &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                              What&amp;apos;s one thing you wish we could&amp;apos;ve helped you with?&#10;                            &lt;/h3&gt;&#10;                            &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;                              We&amp;apos;re always looking to improve, your thoughts can help us make MigrateMate more useful for others.*&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;feedback-textarea&quot; className=&quot;sr-only&quot;&gt;Your feedback&lt;/label&gt;&#10;                            &lt;textarea&#10;                                id=&quot;feedback-textarea&quot;&#10;                                value={feedback}&#10;                                onChange={(e) =&gt; setFeedback(e.target.value)}&#10;                                placeholder=&quot;Your feedback...&quot;&#10;                                className=&quot;w-full h-40 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black&quot;&#10;                                aria-describedby=&quot;feedback-char-count&quot;&#10;                            /&gt;&#10;                            &lt;div id=&quot;feedback-char-count&quot; className=&quot;text-right text-sm text-[#41403D] mt-2&quot;&gt;&#10;                              Min 25 characters ({feedback.length}/25)&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          &lt;button&#10;                              onClick={handleFeedbackContinue}&#10;                              disabled={feedback.length &lt; 25}&#10;                              className=&quot;w-full py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;&#10;                              aria-describedby=&quot;feedback-continue-help&quot;&#10;                          &gt;&#10;                            Continue&#10;                          &lt;/button&gt;&#10;                          &lt;div id=&quot;feedback-continue-help&quot; className=&quot;sr-only&quot;&gt;&#10;                            {feedback.length &lt; 25 ? 'Please enter at least 25 characters to continue' : ''}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {currentStep === 'visa' &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                          &lt;div&gt;&#10;                            {foundJobWithMigrateMate === true ? (&#10;                                &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                  We helped you land the job, now let&amp;apos;s help you secure your visa.&#10;                                &lt;/h3&gt;&#10;                            ) : (&#10;                                &lt;&gt;&#10;                                  &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-2&quot;&gt;&#10;                                    You landed the job!&lt;br /&gt;&#10;                                    &lt;em&gt;That&amp;apos;s what we live for.&lt;/em&gt;&#10;                                  &lt;/h3&gt;&#10;                                  &lt;h4 className=&quot;text-xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                    Even if it wasn&amp;apos;t through Migrate Mate, let us help get your visa sorted.&#10;                                  &lt;/h4&gt;&#10;                                &lt;/&gt;&#10;                            )}&#10;&#10;                            &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                              &lt;legend className=&quot;text-[#41403D] mb-2&quot;&gt;Is your company providing an immigration lawyer to help with your visa?*&lt;/legend&gt;&#10;                              &lt;div className=&quot;space-y-2&quot;&gt;&#10;                                &lt;label className=&quot;flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;immigrationLawyer&quot;&#10;                                      checked={hasImmigrationLawyer === true}&#10;                                      onChange={() =&gt; setHasImmigrationLawyer(true)}&#10;                                      className=&quot;mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;text-[#41403D]&quot;&gt;Yes&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                                &lt;label className=&quot;flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;immigrationLawyer&quot;&#10;                                      checked={hasImmigrationLawyer === false}&#10;                                      onChange={() =&gt; setHasImmigrationLawyer(false)}&#10;                                      className=&quot;mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;text-[#41403D]&quot;&gt;No&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/fieldset&gt;&#10;&#10;                            {hasImmigrationLawyer === true &amp;&amp; (&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                                  &lt;label htmlFor=&quot;visa-type-yes&quot; className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                    What visa will you be applying for?*&#10;                                  &lt;/label&gt;&#10;                                  &lt;input&#10;                                      id=&quot;visa-type-yes&quot;&#10;                                      type=&quot;text&quot;&#10;                                      value={visaType}&#10;                                      onChange={(e) =&gt; setVisaType(e.target.value)}&#10;                                      placeholder=&quot;Enter visa type&quot;&#10;                                      className=&quot;w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black&quot;&#10;                                      onBlur={() =&gt; {&#10;                                        if (!visaType.trim()) {&#10;                                          setHasImmigrationLawyer(null);&#10;                                        }&#10;                                      }}&#10;                                  /&gt;&#10;                                &lt;/div&gt;&#10;                            )}&#10;&#10;                            {hasImmigrationLawyer === false &amp;&amp; (&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                                  &lt;label htmlFor=&quot;visa-type-no&quot; className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                    We can connect you with one of our trusted partners. Which visa would you like to apply for?*&#10;                                  &lt;/label&gt;&#10;                                  &lt;input&#10;                                      id=&quot;visa-type-no&quot;&#10;                                      type=&quot;text&quot;&#10;                                      value={visaType}&#10;                                      onChange={(e) =&gt; setVisaType(e.target.value)}&#10;                                      placeholder=&quot;Enter visa type&quot;&#10;                                      className=&quot;w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black&quot;&#10;                                      onBlur={() =&gt; {&#10;                                        if (!visaType.trim()) {&#10;                                          setHasImmigrationLawyer(null);&#10;                                        }&#10;                                      }}&#10;                                  /&gt;&#10;                                &lt;/div&gt;&#10;                            )}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;border-t border-gray-200 mt-2&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                          &lt;div className=&quot;pt-3&quot;&gt;&#10;                            &lt;button&#10;                                onClick={() =&gt; setCurrentStep('completed')}&#10;                                disabled={hasImmigrationLawyer === null || !visaType.trim()}&#10;                                className=&quot;w-full py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;&#10;                                aria-describedby=&quot;visa-complete-help&quot;&#10;                            &gt;&#10;                              Complete cancellation&#10;                            &lt;/button&gt;&#10;                            &lt;div id=&quot;visa-complete-help&quot; className=&quot;sr-only&quot;&gt;&#10;                              {(hasImmigrationLawyer === null || !visaType.trim()) ? 'Please answer all questions to complete cancellation' : ''}&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {currentStep === 'downsell' &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                              We built this to help you land the job, this makes it a little easier.&#10;                            &lt;/h3&gt;&#10;                            &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;                              We&amp;apos;ve been there and we&amp;apos;re here to help you.&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* Downsell Offer Box - Matching Screenshot */}&#10;                          &lt;div className=&quot;bg-purple-100 border-2 border-purple-200 rounded-xl p-6 mb-6&quot;&gt;&#10;                            &lt;div className=&quot;text-center&quot;&gt;&#10;                              &lt;h4 className=&quot;text-lg font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                Here&amp;apos;s &lt;u className=&quot;text-[#41403D]&quot;&gt;50% off&lt;/u&gt; until you find a job.&#10;                              &lt;/h4&gt;&#10;                              &lt;div className=&quot;flex items-baseline justify-center space-x-3 mb-4&quot;&gt;&#10;                           &lt;span className=&quot;text-3xl font-bold text-purple-600&quot;&gt;&#10;                             ${getDownsellPrice()}/month&#10;                           &lt;/span&gt;&#10;                                &lt;span className=&quot;text-lg text-gray-500 line-through&quot;&gt;&#10;                             ${mockSubscription.monthly_price / 100}/month&#10;                           &lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;button&#10;                                  onClick={() =&gt; {&#10;                                    setAcceptedDownsell(true);&#10;                                    setCurrentStep('downsell_completed');&#10;                                  }}&#10;                                  className=&quot;w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold mb-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                              &gt;&#10;                                Get 50% off&#10;                              &lt;/button&gt;&#10;                              &lt;p className=&quot;text-sm text-[#41403D] italic&quot;&gt;&#10;                                You won&amp;apos;t be charged until your next billing date.&#10;                              &lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* No Thanks Button */}&#10;                          &lt;button&#10;                              onClick={() =&gt; {&#10;                                setAcceptedDownsell(false);&#10;                                setCurrentStep('survey');&#10;                              }}&#10;                              className=&quot;w-full py-3 px-6 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2&quot;&#10;                          &gt;&#10;                            No thanks&#10;                          &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image for other screens */}&#10;                  &lt;div className=&quot;lg:w-[400px] h-auto relative m-5 overflow-hidden rounded-2xl&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        width={400}&#10;                        height={600}&#10;                        className=&quot;object-cover h-full&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;  );&#10;}-500 focus:ring-offset-2&quot;&#10;&gt;&#10;{cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;&lt;/button&gt;&#10;&lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;{/* Right Image */}&#10;&lt;div className=&quot;w-[400px] h-auto relative overflow-hidden rounded-2xl m-5&quot;&gt;&#10;  &lt;Image&#10;      src=&quot;/empire-state-compressed.jpg&quot;&#10;      alt=&quot;New York City skyline with Empire State Building&quot;&#10;      fill&#10;      className=&quot;object-cover&quot;&#10;      priority&#10;      sizes=&quot;400px&quot;&#10;  /&gt;&#10;&lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;{/* Mobile Layout */}&#10;&lt;div className=&quot;lg:hidden&quot;&gt;&#10;  {/* Image on top */}&#10;  &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl&quot;&gt;&#10;    &lt;Image&#10;        src=&quot;/empire-state-compressed.jpg&quot;&#10;        alt=&quot;New York City skyline with Empire State Building&quot;&#10;        fill&#10;        className=&quot;object-cover&quot;&#10;        priority&#10;        sizes=&quot;100vw&quot;&#10;    /&gt;&#10;  &lt;/div&gt;&#10;&#10;  {/* Content below */}&#10;  &lt;div className=&quot;p-6&quot;&gt;&#10;    &lt;div className=&quot;space-y-6&quot;&gt;&#10;      &lt;div&gt;&#10;        {/* Check if this is from the &quot;Not yet&quot; flow by checking if cancellationReason exists */}&#10;        {cancellationReason ? (&#10;            // &quot;Not yet&quot; flow completion&#10;            &lt;&gt;&#10;              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                Sorry to see you go, mate.&#10;              &lt;/h3&gt;&#10;              &lt;p className=&quot;text-lg font-semibold text-[#41403D] leading-normal mb-6&quot;&gt;&#10;                Thanks for being with us, and you&amp;apos;re&lt;br /&gt;&#10;                always welcome back.&#10;              &lt;/p&gt;&#10;              &lt;div className=&quot;space-y-1 mb-6&quot;&gt;&#10;                &lt;p className=&quot;text-sm text-[#41403D]&quot;&gt;&#10;                  Your subscription is set to end on XX date.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-sm text-[#41403D]&quot;&gt;&#10;                  You&amp;apos;ll still have full access until then. No further charges after that.&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;              &lt;p className=&quot;text-sm text-[#41403D] mb-6&quot;&gt;&#10;                Changed your mind? You can reactivate anytime before your end date.&#10;              &lt;/p&gt;&#10;            &lt;/&gt;&#10;        ) : foundJobWithMigrateMate === true ? (&#10;            // &quot;Yes&quot; flow - found job WITH MigrateMate&#10;            &lt;&gt;&#10;              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                All done, your cancellation&amp;apos;s been processed.&#10;              &lt;/h3&gt;&#10;              &lt;p className=&quot;text-[#41403D] text-sm leading-relaxed&quot;&gt;&#10;                We&amp;apos;re stoked to hear you&amp;apos;ve landed a job and sorted your visa.&#10;                Big congrats from the team. &#10;              &lt;/p&gt;&#10;            &lt;/&gt;&#10;        ) : (&#10;            // &quot;Yes&quot; flow - found job but NOT with MigrateMate&#10;            &lt;&gt;&#10;              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-1&quot;&gt;&#10;                Your cancellation&amp;apos;s all sorted, mate,&#10;              &lt;/h3&gt;&#10;              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-6&quot;&gt;&#10;                no more charges.&#10;              &lt;/h3&gt;&#10;&#10;              {/* Profile Section */}&#10;              &lt;div className=&quot;mb-6&quot;&gt;&#10;                &lt;div className=&quot;flex items-center mb-4 bg-gray-100 rounded-lg p-2&quot;&gt;&#10;                  &lt;div className=&quot;w-10 h-10 rounded-full overflow-hidden mr-3 bg-gray-100&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/mihailo-profile.jpeg&quot;&#10;                        alt=&quot;Mihailo Bozic&quot;&#10;                        fill&#10;                        className=&quot;w-full h-full object-cover&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div&gt;&#10;                    &lt;div className=&quot;font-semibold text-[#41403D] text-sm&quot;&gt;Mihailo Bozic&lt;/div&gt;&#10;                    &lt;div className=&quot;text-[#41403D] text-xs&quot;&gt;&amp;lt;mihailo@migratemate.co&amp;gt;&lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div className=&quot;space-y-3 pl-4&quot;&gt;&#10;                  &lt;p className=&quot;text-[#41403D] text-sm&quot;&gt;&#10;                    I&amp;apos;ll be reaching out soon to help with the visa side of things.&#10;                  &lt;/p&gt;&#10;                  &lt;p className=&quot;text-[#41403D] text-sm&quot;&gt;&#10;                    We&amp;apos;ve got your back, whether it&amp;apos;s questions, paperwork, or just&#10;                    figuring out your options.&#10;                  &lt;/p&gt;&#10;                  &lt;p className=&quot;text-[#41403D] text-sm&quot;&gt;&#10;                    Keep an eye on your inbox, I&amp;apos;ll be in touch &lt;u&gt;shortly&lt;/u&gt;.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/&gt;&#10;        )}&#10;      &lt;/div&gt;&#10;&#10;      &lt;button&#10;          onClick={handleComplete}&#10;          className=&quot;w-full py-3 px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;      &gt;&#10;        {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;      &lt;/button&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/div&gt;&#10;&lt;/&gt;&#10;)}&#10;&lt;/div&gt;&#10;&lt;/div&gt;&#10;);&#10;}" />
              <option name="updatedContent" value="'use client';&#10;&#10;import { useState, useCallback, useMemo, useRef, useEffect } from 'react';&#10;import Image from 'next/image';&#10;&#10;type FlowStep = 'initial' | 'downsell' | 'downsell_completed' | 'job_recommendations' | 'survey' | 'reason_selection' | 'congrats' | 'feedback' | 'visa' | 'completed';&#10;&#10;interface CancellationFlowProps {&#10;  isOpen: boolean;&#10;  onClose: () =&gt; void;&#10;  onComplete?: (data: CancellationData) =&gt; void;&#10;}&#10;&#10;interface CancellationData {&#10;  foundJobWithMigrateMate: boolean | null;&#10;  rolesApplied: number | null;&#10;  companiesEmailed: number | null;&#10;  companiesInterviewed: number | null;&#10;  feedback: string;&#10;  hasImmigrationLawyer: boolean | null;&#10;  visaType: string;&#10;  acceptedDownsell: boolean | null;&#10;  cancellationReason: string | null;&#10;  reasonFollowUpText: string;&#10;}&#10;&#10;export default function CancellationFlow({ isOpen, onClose, onComplete }: CancellationFlowProps) {&#10;  const [currentStep, setCurrentStep] = useState&lt;FlowStep&gt;('initial');&#10;  const [foundJobWithMigrateMate, setFoundJobWithMigrateMate] = useState&lt;boolean | null&gt;(null);&#10;  const [rolesApplied, setRolesApplied] = useState&lt;number | null&gt;(null);&#10;  const [companiesEmailed, setCompaniesEmailed] = useState&lt;number | null&gt;(null);&#10;  const [companiesInterviewed, setCompaniesInterviewed] = useState&lt;number | null&gt;(null);&#10;  const [feedback, setFeedback] = useState('');&#10;  const [hasImmigrationLawyer, setHasImmigrationLawyer] = useState&lt;boolean | null&gt;(null);&#10;  const [visaType, setVisaType] = useState('');&#10;&#10;  // Survey questions state&#10;  const [rolesAppliedSurvey, setRolesAppliedSurvey] = useState&lt;string | null&gt;(null);&#10;  const [companiesEmailedSurvey, setCompaniesEmailedSurvey] = useState&lt;string | null&gt;(null);&#10;  const [companiesInterviewedSurvey, setCompaniesInterviewedSurvey] = useState&lt;string | null&gt;(null);&#10;&#10;  // A/B Testing and Downsell&#10;  const [downsellVariant, setDownsellVariant] = useState&lt;'A' | 'B' | null&gt;(null);&#10;  const [acceptedDownsell, setAcceptedDownsell] = useState&lt;boolean | null&gt;(null);&#10;  const [cancellationReason, setCancellationReason] = useState&lt;string | null&gt;(null);&#10;  const [reasonFollowUpText, setReasonFollowUpText] = useState&lt;string&gt;('');&#10;&#10;  // Refs for accessibility and performance&#10;  const modalRef = useRef&lt;HTMLDivElement&gt;(null);&#10;  const focusRef = useRef&lt;HTMLButtonElement&gt;(null);&#10;&#10;  // Mock user data - using first user from seed.sql&#10;  const mockUser = useMemo(() =&gt; ({&#10;    id: '550e8400-e29b-41d4-a716-446655440001',&#10;    email: 'user1@example.com'&#10;  }), []);&#10;&#10;  // Mock subscription data - $25 plan from seed.sql&#10;  const mockSubscription = useMemo(() =&gt; ({&#10;    id: 'sub-123',&#10;    user_id: mockUser.id,&#10;    monthly_price: 2500, // $25.00 in cents&#10;    status: 'active' as const&#10;  }), [mockUser.id]);&#10;&#10;  // Handle escape key and focus management&#10;  useEffect(() =&gt; {&#10;    if (isOpen) {&#10;      const handleEscape = (e: KeyboardEvent) =&gt; {&#10;        if (e.key === 'Escape') onClose();&#10;      };&#10;      document.addEventListener('keydown', handleEscape);&#10;      focusRef.current?.focus();&#10;      return () =&gt; document.removeEventListener('keydown', handleEscape);&#10;    }&#10;  }, [isOpen, onClose]);&#10;&#10;  if (!isOpen) return null;&#10;&#10;  // Deterministic A/B testing logic with memoization&#10;  const getDownsellVariant = useCallback(() =&gt; {&#10;    if (downsellVariant) return downsellVariant; // Reuse existing variant&#10;&#10;    // Generate deterministic variant based on user ID (secure)&#10;    const hash = mockUser.id.split('').reduce((a, b) =&gt; {&#10;      a = ((a &lt;&lt; 5) - a) + b.charCodeAt(0);&#10;      return a &amp; a; // Convert to 32-bit integer&#10;    }, 0);&#10;&#10;    const variant = Math.abs(hash) % 2 === 0 ? 'A' : 'B';&#10;&#10;    // TEMPORARY: Force Variant B for testing downsell screen&#10;    const testVariant = 'B';&#10;&#10;    console.log(' A/B Testing Debug:', {&#10;      userId: mockUser.id,&#10;      hash: hash,&#10;      hashMod2: Math.abs(hash) % 2,&#10;      calculatedVariant: variant,&#10;      actualVariant: testVariant&#10;    });&#10;    setDownsellVariant(testVariant);&#10;    return testVariant;&#10;  }, [downsellVariant, mockUser.id]);&#10;&#10;  // Calculate downsell price with validation&#10;  const getDownsellPrice = useCallback(() =&gt; {&#10;    try {&#10;      const originalPrice = mockSubscription.monthly_price / 100; // Convert cents to dollars&#10;      if (originalPrice === 25) return 15; // $25 → $15&#10;      if (originalPrice === 29) return 19; // $29 → $19&#10;      return Math.max(originalPrice * 0.6, 1); // 40% off fallback with minimum $1&#10;    } catch (error) {&#10;      console.error('Error calculating downsell price:', error);&#10;      return 15; // Default fallback&#10;    }&#10;  }, [mockSubscription.monthly_price]);&#10;&#10;  const isReasonFollowUpComplete = useCallback(() =&gt; {&#10;    if (!cancellationReason) return false;&#10;&#10;    if (cancellationReason === 'Too expensive') {&#10;      return reasonFollowUpText.trim().length &gt; 0; // Any amount entered&#10;    } else {&#10;      return reasonFollowUpText.trim().length &gt;= 25; // Minimum 25 characters for textareas&#10;    }&#10;  }, [cancellationReason, reasonFollowUpText]);&#10;&#10;  const handleBack = useCallback(() =&gt; {&#10;    if (currentStep === 'congrats') {&#10;      setCurrentStep('initial');&#10;    } else if (currentStep === 'downsell') {&#10;      setCurrentStep('initial');&#10;    } else if (currentStep === 'feedback') {&#10;      // If coming from downsell, go back to downsell; if from congrats, go to congrats&#10;      if (downsellVariant === 'B' &amp;&amp; foundJobWithMigrateMate === false) {&#10;        setCurrentStep('downsell');&#10;      } else if (foundJobWithMigrateMate === true) {&#10;        setCurrentStep('congrats');&#10;      } else {&#10;        setCurrentStep('initial');&#10;      }&#10;    } else if (currentStep === 'visa') {&#10;      setCurrentStep('feedback');&#10;    }&#10;  }, [currentStep, downsellVariant, foundJobWithMigrateMate]);&#10;&#10;  const handleFoundJob = useCallback(() =&gt; {&#10;    setCurrentStep('congrats');&#10;  }, []);&#10;&#10;  const handleCongratsContinue = useCallback(() =&gt; {&#10;    // Only proceed if all required fields are filled&#10;    if (foundJobWithMigrateMate !== null &amp;&amp;&#10;        rolesApplied !== null &amp;&amp;&#10;        companiesEmailed !== null &amp;&amp;&#10;        companiesInterviewed !== null) {&#10;      setCurrentStep('feedback');&#10;    }&#10;  }, [foundJobWithMigrateMate, rolesApplied, companiesEmailed, companiesInterviewed]);&#10;&#10;  const handleFeedbackContinue = useCallback(() =&gt; {&#10;    if ((foundJobWithMigrateMate === true || foundJobWithMigrateMate === false) &amp;&amp;&#10;        feedback.length &gt;= 25) {&#10;      setCurrentStep('visa');&#10;    }&#10;  }, [foundJobWithMigrateMate, feedback.length]);&#10;&#10;  const getStepInfo = useCallback(() =&gt; {&#10;    switch (currentStep) {&#10;      case 'initial':&#10;        return { step: 0, total: 3 }; // No steps shown&#10;      case 'congrats':&#10;        return { step: 1, total: 3 };&#10;      case 'feedback':&#10;        return { step: 2, total: 3 };&#10;      case 'visa':&#10;        return { step: 3, total: 3 };&#10;      case 'downsell':&#10;        return { step: 1, total: 3 };&#10;      case 'survey':&#10;        return { step: 2, total: 3 };&#10;      case 'reason_selection':&#10;        return { step: 3, total: 3 };&#10;      case 'completed':&#10;        return { step: 0, total: 3 }; // Show completed status only&#10;      case 'downsell_completed':&#10;        return { step: 0, total: 0 }; // No progress indicator&#10;      case 'job_recommendations':&#10;        return { step: 0, total: 0 }; // No progress indicator&#10;      default:&#10;        return { step: 0, total: 3 };&#10;    }&#10;  }, [currentStep]);&#10;&#10;  // Handle completion with data callback&#10;  const handleComplete = useCallback(() =&gt; {&#10;    const data: CancellationData = {&#10;      foundJobWithMigrateMate,&#10;      rolesApplied,&#10;      companiesEmailed,&#10;      companiesInterviewed,&#10;      feedback,&#10;      hasImmigrationLawyer,&#10;      visaType,&#10;      acceptedDownsell,&#10;      cancellationReason,&#10;      reasonFollowUpText&#10;    };&#10;    onComplete?.(data);&#10;    onClose();&#10;  }, [foundJobWithMigrateMate, rolesApplied, companiesEmailed, companiesInterviewed, feedback, hasImmigrationLawyer, visaType, acceptedDownsell, cancellationReason, reasonFollowUpText, onComplete, onClose]);&#10;&#10;  const stepInfo = useMemo(() =&gt; getStepInfo(), [getStepInfo]);&#10;&#10;  return (&#10;      &lt;div className=&quot;fixed inset-0 bg-[#BAB8B4] bg-opacity-50 flex items-end justify-center z-50 lg:items-center lg:p-0.5&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-labelledby=&quot;modal-title&quot;&gt;&#10;        &lt;div ref={modalRef} className=&quot;bg-white rounded-t-2xl lg:rounded-2xl shadow-xl w-full max-w-7xl lg:w-[1300px] mt-6 lg:mt-0 flex flex-col&quot; style={{ height: 'auto' }}&gt;&#10;          {currentStep === 'initial' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6&quot;&gt;&#10;                  &lt;h2 id=&quot;modal-title&quot; className=&quot;text-lg font-bold text-black flex-1 text-center&quot;&gt;Subscription Cancellation&lt;/h2&gt;&#10;                  &lt;button&#10;                      ref={focusRef}&#10;                      onClick={onClose}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 ml-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                          Hey mate,&lt;br /&gt;&#10;                          Quick one before you go.&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;flex items-center mb-6&quot;&gt;&#10;                          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4 italic&quot;&gt;&#10;                            Have you found a job yet?&#10;                          &lt;/h3&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;p className=&quot;text-[#41403D] leading-relaxed font-bold&quot;&gt;&#10;                          Whatever your answer, we just want to help you take the next step.&#10;                          With visa support, or by hearing how we can do better.&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={handleFoundJob}&#10;                            className=&quot;w-full py-3 px-6 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-bold focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                            aria-describedby=&quot;found-job-description&quot;&#10;                        &gt;&#10;                          Yes, I&amp;apos;ve found a job&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;found-job-description&quot; className=&quot;sr-only&quot;&gt;This will start the congratulations flow&lt;/div&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setFoundJobWithMigrateMate(false);&#10;                              const variant = getDownsellVariant();&#10;                              if (variant === 'B') {&#10;                                setCurrentStep('downsell'); // Show downsell for variant B&#10;                              } else {&#10;                                onClose(); // Variant A - redirect to profile page&#10;                              }&#10;                            }}&#10;                            className=&quot;w-full py-3 px-6 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-bold focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                            aria-describedby=&quot;still-looking-description&quot;&#10;                        &gt;&#10;                          Not yet - I&amp;apos;m still looking&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;still-looking-description&quot; className=&quot;sr-only&quot;&gt;This may show a discount offer or cancel directly&lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image */}&#10;                  &lt;div className=&quot;w-[400px] h-[373px] relative overflow-hidden rounded-2xl m-5 mt-10&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl m-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;(max-width: 768px) 100vw, 400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Hey mate,&lt;br /&gt;&#10;                          Quick one before you go.&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-lg text-[#41403D] italic font-medium mb-3&quot;&gt;Have you found a job yet?&lt;/p&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm leading-relaxed font-semibold&quot;&gt;&#10;                          Whatever your answer, we just want to help you take the next step.&#10;                          With visa support, or by hearing how we can do better.&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      &lt;div className=&quot;space-y-3 pt-2&quot;&gt;&#10;                        &lt;button&#10;                            onClick={handleFoundJob}&#10;                            className=&quot;w-full py-3 px-4 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Yes, I&amp;apos;ve found a job&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setFoundJobWithMigrateMate(false);&#10;                              const variant = getDownsellVariant();&#10;                              if (variant === 'B') {&#10;                                setCurrentStep('downsell'); // Show downsell for variant B&#10;                              } else {&#10;                                onClose(); // Variant A - redirect to profile page&#10;                              }&#10;                            }}&#10;                            className=&quot;w-full py-3 px-4 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Not yet - I&amp;apos;m still looking&#10;                        &lt;/button&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {currentStep === 'completed' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;button&#10;                      onClick={() =&gt; setCurrentStep('reason_selection')}&#10;                      className=&quot;flex items-center text-[#41403D] hover:text-[#41403D] focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Go back to reason selection&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                    Back&#10;                  &lt;/button&gt;&#10;&#10;                  &lt;div className=&quot;flex-1 flex justify-center&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                      &lt;h2 className=&quot;text-lg font-bold text-black&quot;&gt;Subscription Cancelled&lt;/h2&gt;&#10;                      &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                        &lt;div className=&quot;flex space-x-1&quot; role=&quot;progressbar&quot; aria-valuenow={3} aria-valuemin={0} aria-valuemax={3} aria-label=&quot;Completion progress&quot;&gt;&#10;                          &lt;div className=&quot;w-3 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                          &lt;div className=&quot;w-3 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                          &lt;div className=&quot;w-3 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;span className=&quot;text-sm text-gray-600&quot;&gt;Completed&lt;/span&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button onClick={handleComplete} className=&quot;text-gray-400 hover:text-gray-600 ml-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot; aria-label=&quot;Close modal&quot;&gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        {/* Check if this is from the &quot;Not yet&quot; flow by checking if cancellationReason exists */}&#10;                        {cancellationReason ? (&#10;                            // &quot;Not yet&quot; flow completion&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                                Sorry to see you go, mate.&#10;                              &lt;/h3&gt;&#10;                              &lt;p className=&quot;text-xl font-semibold text-[#41403D] leading-normal mb-8&quot;&gt;&#10;                                Thanks for being with us, and you&amp;apos;re&lt;br /&gt;&#10;                                always welcome back.&#10;                              &lt;/p&gt;&#10;                              &lt;div className=&quot;space-y-2 mb-8&quot;&gt;&#10;                                &lt;p className=&quot;text-base text-[#62605C] font-bold mb-0&quot;&gt;&#10;                                  Your subscription is set to end on XX date.&#10;                                &lt;/p&gt;&#10;                                &lt;p className=&quot;text-base text-[#62605C] font-bold&quot;&gt;&#10;                                  You&amp;apos;ll still have full access until then. No further charges after that.&#10;                                &lt;/p&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;p className=&quot;text-base text-[#41403D] mb-2&quot;&gt;&#10;                                Changed your mind? You can reactivate anytime before your end date.&#10;                              &lt;/p&gt;&#10;                            &lt;/&gt;&#10;                        ) : foundJobWithMigrateMate === true ? (&#10;                            // &quot;Yes&quot; flow - found job WITH MigrateMate&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-0&quot;&gt;&#10;                                All done, your cancellation&amp;apos;s been processed.&#10;                              &lt;/h3&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-6&quot;&gt;&#10;                                been processed.&#10;                              &lt;/h3&gt;&#10;                              &lt;p className=&quot;text-[#41403D] leading-relaxed font-semibold&quot;&gt;&#10;                                We&amp;apos;re stoked to hear you&amp;apos;ve landed a job and sorted your visa.&#10;                              &lt;/p&gt;&#10;                              &lt;p className=&quot;text-[#41403D] leading-relaxed mb-8 font-semibold&quot;&gt;&#10;                                Big congrats from the team. &#10;                              &lt;/p&gt;&#10;                            &lt;/&gt;&#10;                        ) : (&#10;                            // &quot;Yes&quot; flow - found job but NOT with MigrateMate&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[rgb(65,64,61)] leading-tight mb-2&quot;&gt;&#10;                                Your cancellation&amp;apos;s all sorted, mate,&#10;                              &lt;/h3&gt;&#10;                              &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-8&quot;&gt;&#10;                                no more charges.&#10;                              &lt;/h3&gt;&#10;&#10;                              {/* Profile Section */}&#10;                              &lt;div className=&quot;mb-6&quot;&gt;&#10;                                &lt;div className=&quot;flex flex-col mb-4 bg-gray-100 rounded-lg p-4&quot;&gt;&#10;                                  &lt;div className=&quot;flex items-center mb-3&quot;&gt;&#10;                                    &lt;div className=&quot;w-12 h-12 rounded-full overflow-hidden mr-3&quot;&gt;&#10;                                      &lt;Image&#10;                                          src=&quot;/mihailo-profile.jpeg&quot;&#10;                                          alt=&quot;Mihailo Bozic&quot;&#10;                                          width={48}&#10;                                          height={48}&#10;                                          className=&quot;object-cover&quot;&#10;                                      /&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                      &lt;div className=&quot;font-semibold text-[#41403D]&quot;&gt;Mihailo Bozic&lt;/div&gt;&#10;                                      &lt;div className=&quot;text-[#41403D] text-sm&quot;&gt;&amp;lt;mihailo@migratemate.co&amp;gt;&lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;space-y-4 mt-2 pl-10&quot;&gt;&#10;                                    &lt;p className=&quot;text-[#41403D] text-base font-bold&quot;&gt;&#10;                                      I&amp;apos;ll be reaching out soon to help with the visa side of things.&#10;                                    &lt;/p&gt;&#10;                                    &lt;p className=&quot;text-[#41403D] text-base&quot;&gt;&#10;                                      We&amp;apos;ve got your back, whether it&amp;apos;s questions, paperwork, or just&lt;br /&gt;&#10;                                      figuring out your options.&#10;                                    &lt;/p&gt;&#10;                                    &lt;p className=&quot;text-[#41403D] text-base font-semibold&quot;&gt;&#10;                                      Keep an eye on your inbox, I&amp;apos;ll be in touch &lt;u&gt;shortly&lt;/u&gt;.&#10;                                    &lt;/p&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/&gt;&#10;                        )}&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;&#10;                      &lt;button&#10;                          onClick={handleComplete}&#10;                          className=&quot;w-full py-3 px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image - Aligned with content from &quot;mate&quot; to button */}&#10;                  &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl mr-5 self-start&quot; style={{ height: '270px', marginTop: '25px' }}&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        {/* Check if this is from the &quot;Not yet&quot; flow by checking if cancellationReason exists */}&#10;                        {cancellationReason ? (&#10;                            // &quot;Not yet&quot; flow completion&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                                Sorry to see you go, mate.&#10;                              &lt;/h3&gt;&#10;                              &lt;p className=&quot;text-lg font-semibold text-[#41403D] leading-normal mb-6&quot;&gt;&#10;                                Thanks for being with us, and you&amp;apos;re&lt;br /&gt;&#10;                                always welcome back.&#10;                              &lt;/p&gt;&#10;                              &lt;div className=&quot;space-y-1 mb-6&quot;&gt;&#10;                                &lt;p className=&quot;text-sm text-[#41403D]&quot;&gt;&#10;                                  Your subscription is set to end on XX date.&#10;                                &lt;/p&gt;&#10;                                &lt;p className=&quot;text-sm text-[#41403D]&quot;&gt;&#10;                                  You&amp;apos;ll still have full access until then. No further charges after that.&#10;                                &lt;/p&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;p className=&quot;text-sm text-[#41403D] mb-6&quot;&gt;&#10;                                Changed your mind? You can reactivate anytime before your end date.&#10;                              &lt;/p&gt;&#10;                            &lt;/&gt;&#10;                        ) : foundJobWithMigrateMate === true ? (&#10;                            // &quot;Yes&quot; flow - found job WITH MigrateMate&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                                All done, your cancellation&amp;apos;s been processed.&#10;                              &lt;/h3&gt;&#10;                              &lt;p className=&quot;text-[#41403D] text-sm leading-relaxed&quot;&gt;&#10;                                We&amp;apos;re stoked to hear you&amp;apos;ve landed a job and sorted your visa.&#10;                                Big congrats from the team. &#10;                              &lt;/p&gt;&#10;                            &lt;/&gt;&#10;                        ) : (&#10;                            // &quot;Yes&quot; flow - found job but NOT with MigrateMate&#10;                            &lt;&gt;&#10;                              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-1&quot;&gt;&#10;                                Your cancellation&amp;apos;s all sorted, mate,&#10;                              &lt;/h3&gt;&#10;                              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-6&quot;&gt;&#10;                                no more charges.&#10;                              &lt;/h3&gt;&#10;&#10;                              {/* Profile Section */}&#10;                              &lt;div className=&quot;mb-6&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center mb-4 bg-gray-100 rounded-lg p-2&quot;&gt;&#10;                                  &lt;div className=&quot;w-10 h-10 rounded-full overflow-hidden mr-3 bg-gray-100&quot;&gt;&#10;                                    &lt;Image&#10;                                        src=&quot;/mihailo-profile.jpeg&quot;&#10;                                        alt=&quot;Mihailo Bozic&quot;&#10;                                        fill&#10;                                        className=&quot;w-full h-full object-cover&quot;&#10;                                    /&gt;&#10;                                  &lt;/div&gt;&#10;                                  &lt;div&gt;&#10;                                    &lt;div className=&quot;font-semibold text-[#41403D] text-sm&quot;&gt;Mihailo Bozic&lt;/div&gt;&#10;                                    &lt;div className=&quot;text-[#41403D] text-xs&quot;&gt;&amp;lt;mihailo@migratemate.co&amp;gt;&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;space-y-3 pl-4&quot;&gt;&#10;                                  &lt;p className=&quot;text-[#41403D] text-sm&quot;&gt;&#10;                                    I&amp;apos;ll be reaching out soon to help with the visa side of things.&#10;                                  &lt;/p&gt;&#10;                                  &lt;p className=&quot;text-[#41403D] text-sm&quot;&gt;&#10;                                    We&amp;apos;ve got your back, whether it&amp;apos;s questions, paperwork, or just&#10;                                    figuring out your options.&#10;                                  &lt;/p&gt;&#10;                                  &lt;p className=&quot;text-[#41403D] text-sm&quot;&gt;&#10;                                    Keep an eye on your inbox, I&amp;apos;ll be in touch &lt;u&gt;shortly&lt;/u&gt;.&#10;                                  &lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/&gt;&#10;                        )}&#10;                      &lt;/div&gt;&#10;&#10;                      &lt;button&#10;                          onClick={handleComplete}&#10;                          className=&quot;w-full py-3 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {currentStep === 'downsell_completed' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Simple Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;h2 className=&quot;text-lg font-bold text-black flex-1 text-center&quot;&gt;Subscription&lt;/h2&gt;&#10;                  &lt;button&#10;                      onClick={handleComplete}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                          Great choice, mate!&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;mb-6&quot;&gt;&#10;                          &lt;p className=&quot;text-[#41403D] mb-2 font-bold&quot;&gt;&#10;                            You&amp;apos;re still on the path to your dream role.{' '}&#10;                            &lt;span className=&quot;text-purple-600 font-bold&quot;&gt;&#10;                          Let&amp;apos;s make it happen together!&#10;                        &lt;/span&gt;&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;mb-6&quot;&gt;&#10;                          &lt;p className=&quot;text-[#62605C] text-sm mb-0 font-bold&quot;&gt;&#10;                            You&amp;apos;ve got XX days left on your current plan.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#62605C] text-sm mb-2 font-bold&quot;&gt;&#10;                            Starting from XX date, your monthly payment will be ${acceptedDownsell ? getDownsellPrice() : (mockSubscription.monthly_price / 100)}.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#62605C] text-sm italic&quot;&gt;&#10;                            You can cancel anytime before then.&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                      &lt;button&#10;                          onClick={() =&gt; {&#10;                            setCurrentStep('job_recommendations');&#10;                          }}&#10;                          className=&quot;w-full py-3 px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        Land your dream role&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image - Aligned with content from &quot;mate&quot; to button */}&#10;                  &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl mr-5 self-start&quot; style={{ height: '270px', marginTop: '25px' }}&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Great choice, mate!&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;mb-3&quot;&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-sm mb-2&quot;&gt;&#10;                            You&amp;apos;re still on the path to your dream role.{' '}&#10;                            &lt;span className=&quot;text-purple-600 font-semibold&quot;&gt;&#10;                          Let&amp;apos;s make it happen together!&#10;                        &lt;/span&gt;&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;mb-4&quot;&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                            You&amp;apos;ve got XX days left on your current plan.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                            Starting from XX date, your monthly payment will be ${acceptedDownsell ? getDownsellPrice() : (mockSubscription.monthly_price / 100)}.&#10;                          &lt;/p&gt;&#10;                          &lt;p className=&quot;text-[#41403D] text-xs italic&quot;&gt;&#10;                            You can cancel anytime before then.&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      &lt;button&#10;                          onClick={() =&gt; {&#10;                            setCurrentStep('job_recommendations');&#10;                          }}&#10;                          className=&quot;w-full py-3 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        Land your dream role&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {currentStep === 'job_recommendations' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;h2 className=&quot;text-lg font-bold text-black flex-1 text-center&quot;&gt;Subscription&lt;/h2&gt;&#10;                  &lt;button&#10;                      onClick={handleComplete}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:block overflow-hidden h-full&quot;&gt;&#10;                  &lt;div className=&quot;flex gap-4 h-full p-6&quot;&gt;&#10;                    {/* Left Content - Properly constrained */}&#10;                    &lt;div className=&quot;flex-1 min-w-0 overflow-y-auto&quot;&gt;&#10;                      &lt;div className=&quot;space-y-4 pr-4&quot;&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                            Awesome — we&amp;apos;ve pulled together a few roles that seem like a great fit for you.&#10;                          &lt;/h3&gt;&#10;                          &lt;p className=&quot;text-[#41403D] mb-4&quot;&gt;&#10;                            Take a look and see what sparks your interest.&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Job Card - Compact but complete */}&#10;                        &lt;article className=&quot;bg-white border border-gray-200 rounded-lg p-4 mb-4 w-full&quot; role=&quot;article&quot; aria-labelledby=&quot;job-title&quot;&gt;&#10;                          &lt;div className=&quot;flex items-start justify-between mb-3 gap-3&quot;&gt;&#10;                            &lt;div className=&quot;flex items-center min-w-0 flex-1&quot;&gt;&#10;                              &lt;div className=&quot;w-10 h-10 bg-blue-600 rounded flex items-center justify-center mr-3 flex-shrink-0&quot; aria-hidden=&quot;true&quot;&gt;&#10;                                &lt;span className=&quot;text-white font-bold text-sm&quot;&gt;AC&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;min-w-0&quot;&gt;&#10;                                &lt;h4 id=&quot;job-title&quot; className=&quot;font-semibold text-[#41403D]&quot;&gt;Automation Controls Engineer&lt;/h4&gt;&#10;                                &lt;p className=&quot;text-sm text-gray-600&quot;&gt;Randstad USA • Memphis, Tennessee&lt;/p&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-right flex-shrink-0&quot;&gt;&#10;                              &lt;div className=&quot;flex flex-wrap gap-1 text-xs justify-end&quot; role=&quot;list&quot; aria-label=&quot;Job details&quot;&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;Full Time&lt;/span&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;Associate&lt;/span&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;Bachelor&amp;apos;s&lt;/span&gt;&#10;                                &lt;span className=&quot;bg-gray-100 text-gray-700 px-2 py-1 rounded-full&quot; role=&quot;listitem&quot;&gt;On-Site&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* Combined section with visa cards and salary aligned */}&#10;                          &lt;div className=&quot;mb-3&quot;&gt;&#10;                            &lt;div className=&quot;text-right text-sm text-gray-600 mb-2&quot;&gt;&#10;                              Visas sponsored by company in the last year&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                              {/* Left side - Salary */}&#10;                              &lt;div className=&quot;flex items-center&quot;&gt;&#10;                                &lt;span className=&quot;bg-green-100 text-green-800 text-xs px-2 py-1 rounded mr-2&quot;&gt;NEW JOB&lt;/span&gt;&#10;                                &lt;span className=&quot;text-sm font-semibold text-[#41403D]&quot;&gt;$150,000/yr - $170,000/yr&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;&#10;                              {/* Right side - Visa cards */}&#10;                              &lt;div className=&quot;flex items-start space-x-2&quot; role=&quot;list&quot; aria-label=&quot;Visa sponsorship information&quot;&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;205 Green Cards sponsored&quot;&gt;&#10;                                    205&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;flex items-center bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 bg-green-500 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-gray-600&quot;&gt;Green Card&lt;/span&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;1 AU E-3 visa sponsored&quot;&gt;&#10;                                    1&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;AU E-3&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple CA/MX TN visas sponsored&quot;&gt;&#10;                                    +&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;CA/MX TN&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                                  &lt;div className=&quot;absolute -top-1 -right-1 bg-white w-4 h-4 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple OPT visas sponsored&quot;&gt;&#10;                                    +&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;flex items-center bg-gray-50 px-2 py-1 rounded border text-xs&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 bg-gray-400 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-gray-600&quot;&gt;OPT&lt;/span&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          &lt;div className=&quot;border-t border-gray-200&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                          &lt;p className=&quot;text-gray-700 mb-3 text-sm leading-relaxed&quot;&gt;&#10;                            The Electrical Automation Controls Engineer will design, implement, and maintain industrial automation systems, specializing in&#10;                            PLC programming using Siemens TIA Portal. The ideal candidate will have a bachelor&amp;apos;s degree in Electrical Engineering and at&#10;                            least 4 years of industrial automation experience. This role offers autonomy and is ideal for someone seeking growth in a&#10;                            supportive company. Key benefits include comprehensive healthcare and retirement plans.&#10;                          &lt;/p&gt;&#10;&#10;                          &lt;div className=&quot;flex items-center justify-between gap-3 flex-wrap&quot;&gt;&#10;                            &lt;div className=&quot;text-sm text-gray-500 min-w-0&quot;&gt;&#10;                              Company visa contact: &lt;a href=&quot;mailto:barbara.tuck@randstadusa.com&quot; className=&quot;text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded&quot;&gt;barbara.tuck@randstadusa.com&lt;/a&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;flex space-x-2 flex-shrink-0&quot;&gt;&#10;                              &lt;button className=&quot;px-4 py-2 border border-blue-600 text-blue-600 rounded hover:bg-gray-50 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot; aria-label=&quot;Save this job for later&quot;&gt;&#10;                                Save Job&#10;                              &lt;/button&gt;&#10;                              &lt;button className=&quot;px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot; aria-label=&quot;Apply to this job&quot;&gt;&#10;                                Apply&#10;                              &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/article&gt;&#10;&#10;                        &lt;button&#10;                            onClick={handleComplete}&#10;                            className=&quot;w-full py-3 px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Land your dream role&#10;                        &lt;/button&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Right Image - Fixed width */}&#10;                    &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl flex-shrink-0&quot; style={{ height: '500px' }}&gt;&#10;                      &lt;Image&#10;                          src=&quot;/empire-state-compressed.jpg&quot;&#10;                          alt=&quot;New York City skyline with Empire State Building&quot;&#10;                          fill&#10;                          className=&quot;object-cover&quot;&#10;                          priority&#10;                          sizes=&quot;400px&quot;&#10;                      /&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Awesome — we&amp;apos;ve pulled together a few roles that seem like a great fit for you.&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm mb-4&quot;&gt;&#10;                          Take a look and see what sparks your interest.&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Mobile Job Card */}&#10;                      &lt;article className=&quot;bg-white border border-gray-200 rounded-lg p-3 mb-4&quot; role=&quot;article&quot; aria-labelledby=&quot;mobile-job-title&quot;&gt;&#10;                        &lt;div className=&quot;flex items-start mb-2&quot;&gt;&#10;                          &lt;div className=&quot;w-8 h-8 bg-blue-600 rounded flex items-center justify-center mr-2&quot; aria-hidden=&quot;true&quot;&gt;&#10;                            &lt;span className=&quot;text-white font-bold text-xs&quot;&gt;AC&lt;/span&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;flex-1&quot;&gt;&#10;                            &lt;h4 id=&quot;mobile-job-title&quot; className=&quot;font-semibold text-[#41403D] text-sm&quot;&gt;Automation Controls Engineer&lt;/h4&gt;&#10;                            &lt;p className=&quot;text-xs text-gray-600&quot;&gt;Randstad USA • Memphis, Tennessee&lt;/p&gt;&#10;                            &lt;div className=&quot;flex flex-wrap gap-1 mt-1&quot; role=&quot;list&quot; aria-label=&quot;Job details&quot;&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Full Time&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Associate&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Bachelor&amp;apos;s&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;On-Site&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Mobile Visa sponsorship section */}&#10;                        &lt;div className=&quot;mb-2 text-xs text-gray-600&quot;&gt;&#10;                          &lt;div className=&quot;text-center mb-2&quot;&gt;Visas sponsored by company in the last year&lt;/div&gt;&#10;                          &lt;div className=&quot;flex justify-center items-start space-x-1&quot; role=&quot;list&quot; aria-label=&quot;Visa sponsorship information&quot;&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;205 Green Cards&quot;&gt;&#10;                                205&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;flex items-center bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;span className=&quot;w-1.5 h-1.5 bg-green-500 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                &lt;span className=&quot;text-gray-600&quot;&gt;Green Card&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;1 AU E-3 visa&quot;&gt;&#10;                                1&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;AU E-3&lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple CA/MX TN visas&quot;&gt;&#10;                                +&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;CA/MX TN&lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple OPT visas&quot;&gt;&#10;                                +&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;flex items-center bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;span className=&quot;w-1.5 h-1.5 bg-gray-400 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                &lt;span className=&quot;text-gray-600&quot;&gt;OPT&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;mb-2&quot;&gt;&#10;                          &lt;span className=&quot;bg-green-100 text-green-800 text-xs px-1 py-0.5 rounded mr-1&quot;&gt;NEW JOB&lt;/span&gt;&#10;                          &lt;span className=&quot;text-xs font-semibold text-[#41403D]&quot;&gt;$150,000/yr - $170,000/yr&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;p className=&quot;text-xs text-gray-700 mb-3&quot;&gt;&#10;                          The Electrical Automation Controls Engineer will design, implement, and maintain industrial automation systems,&#10;                          specializing in PLC programming using Siemens TIA Portal. The ideal candidate will have a bachelor&amp;apos;s degree in&#10;                          Electrical Engineering and at least 4 years of industrial automation experience. This role offers autonomy and is&#10;                          ideal for someone seeking growth in a supportive company. Key benefits include competitive salary and retirement plans.&#10;                        &lt;/p&gt;&#10;&#10;                        &lt;div className=&quot;mb-2 text-xs text-gray-500&quot;&gt;&#10;                          Company visa contact: &lt;a href=&quot;mailto:barbara.beck@randstadusa.com&quot; className=&quot;text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded&quot;&gt;barbara.beck@randstadusa.com&lt;/a&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;flex space-x-2&quot;&gt;&#10;                          &lt;button className=&quot;flex-1 px-3 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 text-xs focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2&quot; aria-label=&quot;Save this job for later&quot;&gt;&#10;                            Save Job&#10;                          &lt;/button&gt;&#10;                          &lt;button className=&quot;flex-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot; aria-label=&quot;Apply to this job&quot;&gt;&#10;                            Apply&#10;                          &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/article&gt;&#10;&#10;                      &lt;button&#10;                          onClick={handleComplete}&#10;                          className=&quot;w-full py-3 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        Land your dream role&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Awesome — we&amp;apos;ve pulled together a few roles that seem like a great fit for you.&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm mb-4&quot;&gt;&#10;                          Take a look and see what sparks your interest.&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Mobile Job Card */}&#10;                      &lt;article className=&quot;bg-white border border-gray-200 rounded-lg p-3 mb-4&quot; role=&quot;article&quot; aria-labelledby=&quot;mobile-job-title&quot;&gt;&#10;                        &lt;div className=&quot;flex items-start mb-2&quot;&gt;&#10;                          &lt;div className=&quot;w-8 h-8 bg-blue-600 rounded flex items-center justify-center mr-2&quot; aria-hidden=&quot;true&quot;&gt;&#10;                            &lt;span className=&quot;text-white font-bold text-xs&quot;&gt;AC&lt;/span&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;flex-1&quot;&gt;&#10;                            &lt;h4 id=&quot;mobile-job-title&quot; className=&quot;font-semibold text-[#41403D] text-sm&quot;&gt;Automation Controls Engineer&lt;/h4&gt;&#10;                            &lt;p className=&quot;text-xs text-gray-600&quot;&gt;Randstad USA • Memphis, Tennessee&lt;/p&gt;&#10;                            &lt;div className=&quot;flex flex-wrap gap-1 mt-1&quot; role=&quot;list&quot; aria-label=&quot;Job details&quot;&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Full Time&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Associate&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;Bachelor&amp;apos;s&lt;/span&gt;&#10;                              &lt;span className=&quot;bg-gray-100 text-gray-700 px-1 py-0.5 rounded-full text-xs&quot; role=&quot;listitem&quot;&gt;On-Site&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* Mobile Visa sponsorship section */}&#10;                        &lt;div className=&quot;mb-2 text-xs text-gray-600&quot;&gt;&#10;                          &lt;div className=&quot;text-center mb-2&quot;&gt;Visas sponsored by company in the last year&lt;/div&gt;&#10;                          &lt;div className=&quot;flex justify-center items-start space-x-1&quot; role=&quot;list&quot; aria-label=&quot;Visa sponsorship information&quot;&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;205 Green Cards&quot;&gt;&#10;                                205&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;flex items-center bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;span className=&quot;w-1.5 h-1.5 bg-green-500 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                &lt;span className=&quot;text-gray-600&quot;&gt;Green Card&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;1 AU E-3 visa&quot;&gt;&#10;                                1&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;AU E-3&lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple CA/MX TN visas&quot;&gt;&#10;                                +&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;div className=&quot;text-blue-600 font-medium text-center&quot;&gt;CA/MX TN&lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative&quot; role=&quot;listitem&quot;&gt;&#10;                              &lt;div className=&quot;absolute -top-0.5 -right-0.5 bg-white w-3 h-3 rounded-full flex items-center justify-center text-xs font-semibold text-gray-800 border border-gray-200&quot; aria-label=&quot;Multiple OPT visas&quot;&gt;&#10;                                +&#10;                              &lt;/div&gt;&#10;                              &lt;div className=&quot;flex items-center bg-gray-50 px-1.5 py-0.5 rounded border text-xs&quot;&gt;&#10;                                &lt;span className=&quot;w-1.5 h-1.5 bg-gray-400 rounded-full mr-1&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#10;                                &lt;span className=&quot;text-gray-600&quot;&gt;OPT&lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;mb-2&quot;&gt;&#10;                          &lt;span className=&quot;bg-green-100 text-green-800 text-xs px-1 py-0.5 rounded mr-1&quot;&gt;NEW JOB&lt;/span&gt;&#10;                          &lt;span className=&quot;text-xs font-semibold text-[#41403D]&quot;&gt;$150,000/yr - $170,000/yr&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;p className=&quot;text-xs text-gray-700 mb-3&quot;&gt;&#10;                          The Electrical Automation Controls Engineer will design, implement, and maintain industrial automation systems,&#10;                          specializing in PLC programming using Siemens TIA Portal. The ideal candidate will have a bachelor&amp;apos;s degree in&#10;                          Electrical Engineering and at least 4 years of industrial automation experience. This role offers autonomy and is&#10;                          ideal for someone seeking growth in a supportive company. Key benefits include competitive salary and retirement plans.&#10;                        &lt;/p&gt;&#10;&#10;                        &lt;div className=&quot;mb-2 text-xs text-gray-500&quot;&gt;&#10;                          Company visa contact: &lt;a href=&quot;mailto:barbara.beck@randstadusa.com&quot; className=&quot;text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded&quot;&gt;barbara.beck@randstadusa.com&lt;/a&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;flex space-x-2&quot;&gt;&#10;                          &lt;button className=&quot;flex-1 px-3 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 text-xs focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2&quot; aria-label=&quot;Save this job for later&quot;&gt;&#10;                            Save Job&#10;                          &lt;/button&gt;&#10;                          &lt;button className=&quot;flex-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot; aria-label=&quot;Apply to this job&quot;&gt;&#10;                            Apply&#10;                          &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/article&gt;&#10;&#10;                      &lt;button&#10;                          onClick={handleComplete}&#10;                          className=&quot;w-full py-3 px-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2&quot;&#10;                      &gt;&#10;                        Land your dream role&#10;                      &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {/* Survey Screen */}&#10;          {currentStep === 'survey' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;button&#10;                      onClick={() =&gt; setCurrentStep('downsell')}&#10;                      className=&quot;flex items-center text-[#41403D] hover:text-[#41403D] focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Go back to downsell offer&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                    Back&#10;                  &lt;/button&gt;&#10;&#10;                  &lt;div className=&quot;flex-1 flex justify-center&quot;&gt;&#10;                    &lt;h2 className=&quot;text-lg font-bold text-black&quot;&gt;Subscription Cancellation&lt;/h2&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                    &lt;div className=&quot;flex space-x-1&quot; role=&quot;progressbar&quot; aria-valuenow={2} aria-valuemin={0} aria-valuemax={3} aria-label=&quot;Step 2 of 3&quot;&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-green-500 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;w-4 h-2 bg-gray-300 rounded-sm&quot; aria-hidden=&quot;true&quot;&gt;&lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;span className=&quot;text-sm text-gray-600&quot;&gt;Step 2 of 3&lt;/span&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button onClick={handleComplete} className=&quot;text-gray-400 hover:text-gray-600 ml-4 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot; aria-label=&quot;Close modal&quot;&gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Desktop Layout */}&#10;                &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-6 pr-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;                          Help us understand how you were using Migrate Mate.&#10;                        &lt;/h3&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Question 1: Roles Applied */}&#10;                      &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many roles did you &lt;u&gt;apply&lt;/u&gt; for through Migrate Mate?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;roles-applied-label&quot;&gt;&#10;                          {['0', '1 - 5', '6 - 20', '20+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setRolesAppliedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={rolesAppliedSurvey === option}&#10;                                  className={`py-2 px-3 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${&#10;                                      rolesAppliedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Question 2: Companies Emailed */}&#10;                      &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many companies did you &lt;u&gt;email&lt;/u&gt; directly?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;companies-emailed-label&quot;&gt;&#10;                          {['0', '1-5', '6-20', '20+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setCompaniesEmailedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={companiesEmailedSurvey === option}&#10;                                  className={`py-2 px-3 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${&#10;                                      companiesEmailedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Question 3: Companies Interviewed */}&#10;                      &lt;fieldset className=&quot;mb-5&quot;&gt;&#10;                        &lt;legend className=&quot;text-[#41403D] font-medium mb-3 text-sm&quot;&gt;How many different companies did you &lt;u&gt;interview&lt;/u&gt; with?&lt;/legend&gt;&#10;                        &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;companies-interviewed-label&quot;&gt;&#10;                          {['0', '1-2', '3-5', '5+'].map((option) =&gt; (&#10;                              &lt;button&#10;                                  key={option}&#10;                                  onClick={() =&gt; setCompaniesInterviewedSurvey(option)}&#10;                                  role=&quot;radio&quot;&#10;                                  aria-checked={companiesInterviewedSurvey === option}&#10;                                  className={`py-2 px-3 rounded-lg border text-center font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${&#10;                                      companiesInterviewedSurvey === option&#10;                                          ? 'bg-purple-600 text-white border-purple-600'&#10;                                          : 'bg-white text-[#41403D] border-gray-300 hover:border-purple-400'&#10;                                  }`}&#10;                              &gt;&#10;                                {option}&#10;                              &lt;/button&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Buttons */}&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setAcceptedDownsell(true);&#10;                              setCurrentStep('downsell_completed');&#10;                            }}&#10;                            className=&quot;w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Get 50% off | $12.50 &lt;span className=&quot;text-green-200 line-through&quot;&gt;$25&lt;/span&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              if (rolesAppliedSurvey &amp;&amp; companiesEmailedSurvey &amp;&amp; companiesInterviewedSurvey) {&#10;                                setCurrentStep('reason_selection');&#10;                              }&#10;                            }}&#10;                            disabled={!rolesAppliedSurvey || !companiesEmailedSurvey || !companiesInterviewedSurvey}&#10;                            className={`w-full py-3 px-6 rounded-lg transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${&#10;                                rolesAppliedSurvey &amp;&amp; companiesEmailedSurvey &amp;&amp; companiesInterviewedSurvey&#10;                                    ? 'bg-red-500 text-white hover:bg-red-600 cursor-pointer focus:ring-red-500'&#10;                                    : 'bg-gray-200 text-[#41403D] cursor-not-allowed opacity-60 focus:ring-gray-300'&#10;                            }`}&#10;                            aria-describedby=&quot;continue-disabled-help&quot;&#10;                        &gt;&#10;                          Continue&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;continue-disabled-help&quot; className=&quot;sr-only&quot;&gt;&#10;                          {!rolesAppliedSurvey || !companiesEmailedSurvey || !companiesInterviewedSurvey ? 'Please answer all questions to continue' : ''}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image */}&#10;                  &lt;div className=&quot;w-[350px] relative overflow-hidden rounded-2xl mr-5 self-start&quot; style={{ height: '400px', marginTop: '15px' }}&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;350px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          Help us understand how you were using Migrate Mate.&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-sm text-[#41403D] mb-3&quot;&gt;&#10;                          Please take a minute to let us know why:&#10;                        &lt;/p&gt;&#10;                        {!cancellationReason &amp;&amp; (&#10;                            &lt;p className=&quot;text-red-500 text-sm mb-4&quot; role=&quot;alert&quot;&gt;&#10;                              To help us understand your experience, please select a reason for cancelling*&#10;                            &lt;/p&gt;&#10;                        )}&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Radio Button Options */}&#10;                      &lt;fieldset className=&quot;space-y-3 mb-6&quot;&gt;&#10;                        &lt;legend className=&quot;sr-only&quot;&gt;Cancellation reason&lt;/legend&gt;&#10;                        {!cancellationReason ? (&#10;                            // Show all options when none selected&#10;                            [&#10;                              'Too expensive',&#10;                              'Platform not helpful',&#10;                              'Not enough relevant jobs',&#10;                              'Decided not to move',&#10;                              'Other'&#10;                            ].map((reason) =&gt; (&#10;                                &lt;label key={reason} className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={reason}&#10;                                      checked={cancellationReason === reason}&#10;                                      onChange={(e) =&gt; {&#10;                                        setCancellationReason(e.target.value);&#10;                                        setReasonFollowUpText(''); // Reset follow-up text when changing reason&#10;                                      }}&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;ml-3 text-[#41403D] font-medium text-sm&quot;&gt;{reason}&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                            ))&#10;                        ) : (&#10;                            // Show only selected option and follow-up&#10;                            &lt;div className=&quot;space-y-3&quot;&gt;&#10;                              &lt;label className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                &lt;div className=&quot;relative flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={cancellationReason}&#10;                                      checked={true}&#10;                                      readOnly&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 opacity-0&quot;&#10;                                  /&gt;&#10;                                  {/* Custom checked state indicator - perfectly positioned */}&#10;                                  &lt;div className=&quot;absolute left-0 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-gray-800 border border-gray-800 rounded-full flex items-center justify-center&quot; aria-hidden=&quot;true&quot;&gt;&#10;                                    &lt;div className=&quot;w-2 h-2 bg-white rounded-full&quot;&gt;&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;span className=&quot;ml-3 text-[#41403D] font-medium text-sm&quot;&gt;{cancellationReason}&lt;/span&gt;&#10;                              &lt;/label&gt;&#10;&#10;                              {/* Follow-up question based on selection */}&#10;                              &lt;div className=&quot;mt-3&quot;&gt;&#10;                                {cancellationReason === 'Too expensive' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-price-input&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What would be the maximum you would be willing to pay?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;div className=&quot;relative&quot;&gt;&#10;                                        &lt;span className=&quot;absolute left-3 top-1/2 transform -translate-y-1/2 text-[#41403D]&quot; aria-hidden=&quot;true&quot;&gt;$&lt;/span&gt;&#10;                                        &lt;input&#10;                                            id=&quot;mobile-price-input&quot;&#10;                                            type=&quot;text&quot;&#10;                                            placeholder=&quot;Enter amount&quot;&#10;                                            value={reasonFollowUpText}&#10;                                            onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                            className=&quot;w-full pl-6 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm text-black&quot;&#10;                                        /&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Platform not helpful' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-platform-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What can we change to make the platform more helpful?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;p className=&quot;text-red-500 text-xs mb-2&quot; role=&quot;alert&quot;&gt;&#10;                                        Please enter at least 25 characters so we can understand your feedback*&#10;                                      &lt;/p&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-platform-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Not enough relevant jobs' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-jobs-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        In which way can we make the jobs more relevant?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-jobs-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve job relevance...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Decided not to move' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-move-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What changed for you to decide to not move?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-move-feedback&quot;&#10;                                          placeholder=&quot;Tell us what changed your mind...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Other' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-other-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What would have helped you the most?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-other-feedback&quot;&#10;                                          placeholder=&quot;Tell us what would have helped...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        )}&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Buttons */}&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setAcceptedDownsell(true);&#10;                              handleComplete(); // Complete the cancellation flow&#10;                            }}&#10;                            className=&quot;w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Get 50% off | $12.50 &lt;span className=&quot;text-green-200 line-through&quot;&gt;$25&lt;/span&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              if (isReasonFollowUpComplete()) {&#10;                                setCurrentStep('completed');&#10;                              }&#10;                            }}&#10;                            disabled={!isReasonFollowUpComplete()}&#10;                            className={`w-full py-3 px-6 rounded-lg transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${&#10;                                isReasonFollowUpComplete()&#10;                                    ? 'bg-red-500 text-white hover:bg-red-600 focus:ring-red-500'&#10;                                    : 'bg-gray-200 text-[#41403D] cursor-not-allowed opacity-60 focus:ring-gray-300'&#10;                            }`}&#10;                            aria-describedby=&quot;complete-disabled-help&quot;&#10;                        &gt;&#10;                          Complete cancellation&#10;                        &lt;/button&gt;&#10;                        &lt;div id=&quot;complete-disabled-help&quot; className=&quot;sr-only&quot;&gt;&#10;                          {!isReasonFollowUpComplete() ? 'Please complete the follow-up question to continue' : ''}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image */}&#10;                  &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl mb-8 mr-5 self-stretch&quot; style={{ marginTop: '25px' }}&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Mobile Layout */}&#10;                &lt;div className=&quot;lg:hidden&quot;&gt;&#10;                  {/* Image on top */}&#10;                  &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl mt-2 mx-5&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        fill&#10;                        className=&quot;object-cover&quot;&#10;                        priority&#10;                        sizes=&quot;100vw&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Content below */}&#10;                  &lt;div className=&quot;p-4&quot;&gt;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      &lt;div&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                          What&amp;apos;s the main reason for cancelling?&#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-[#41403D] text-sm mb-3&quot;&gt;&#10;                          Please take a minute to let us know why:&#10;                        &lt;/p&gt;&#10;                        {!cancellationReason &amp;&amp; (&#10;                            &lt;p className=&quot;text-red-500 text-sm mb-4&quot; role=&quot;alert&quot;&gt;&#10;                              To help us understand your experience, please select a reason for cancelling*&#10;                            &lt;/p&gt;&#10;                        )}&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Radio Button Options */}&#10;                      &lt;fieldset className=&quot;space-y-3 mb-6&quot;&gt;&#10;                        &lt;legend className=&quot;sr-only&quot;&gt;Cancellation reason&lt;/legend&gt;&#10;                        {!cancellationReason ? (&#10;                            // Show all options when none selected&#10;                            [&#10;                              'Too expensive',&#10;                              'Platform not helpful',&#10;                              'Not enough relevant jobs',&#10;                              'Decided not to move',&#10;                              'Other'&#10;                            ].map((reason) =&gt; (&#10;                                &lt;label key={reason} className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={reason}&#10;                                      checked={cancellationReason === reason}&#10;                                      onChange={(e) =&gt; {&#10;                                        setCancellationReason(e.target.value);&#10;                                        setReasonFollowUpText(''); // Reset follow-up text when changing reason&#10;                                      }}&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;ml-3 text-[#41403D] font-medium text-sm&quot;&gt;{reason}&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                            ))&#10;                        ) : (&#10;                            // Show only selected option and follow-up&#10;                            &lt;div className=&quot;space-y-3&quot;&gt;&#10;                              &lt;label className=&quot;flex items-center cursor-pointer&quot;&gt;&#10;                                &lt;div className=&quot;relative flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;cancellation_reason&quot;&#10;                                      value={cancellationReason}&#10;                                      checked={true}&#10;                                      readOnly&#10;                                      className=&quot;w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 opacity-0&quot;&#10;                                  /&gt;&#10;                                  {/* Custom checked state indicator - perfectly positioned */}&#10;                                  &lt;div className=&quot;absolute left-0 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-gray-800 border border-gray-800 rounded-full flex items-center justify-center&quot; aria-hidden=&quot;true&quot;&gt;&#10;                                    &lt;div className=&quot;w-2 h-2 bg-white rounded-full&quot;&gt;&lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;span className=&quot;ml-3 text-[#41403D] font-medium text-sm&quot;&gt;{cancellationReason}&lt;/span&gt;&#10;                              &lt;/label&gt;&#10;&#10;                              {/* Follow-up question based on selection */}&#10;                              &lt;div className=&quot;mt-3&quot;&gt;&#10;                                {cancellationReason === 'Too expensive' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-price-input&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What would be the maximum you would be willing to pay?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;div className=&quot;relative&quot;&gt;&#10;                                        &lt;span className=&quot;absolute left-3 top-1/2 transform -translate-y-1/2 text-[#41403D]&quot; aria-hidden=&quot;true&quot;&gt;$&lt;/span&gt;&#10;                                        &lt;input&#10;                                            id=&quot;mobile-price-input&quot;&#10;                                            type=&quot;text&quot;&#10;                                            placeholder=&quot;Enter amount&quot;&#10;                                            value={reasonFollowUpText}&#10;                                            onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                            className=&quot;w-full pl-6 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm text-black&quot;&#10;                                        /&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Platform not helpful' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-platform-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What can we change to make the platform more helpful?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;p className=&quot;text-red-500 text-xs mb-2&quot; role=&quot;alert&quot;&gt;&#10;                                        Please enter at least 25 characters so we can understand your feedback*&#10;                                      &lt;/p&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-platform-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Not enough relevant jobs' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-jobs-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        In which way can we make the jobs more relevant?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-jobs-feedback&quot;&#10;                                          placeholder=&quot;Tell us how we can improve job relevance...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Decided not to move' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-move-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What changed for you to decide to not move?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-move-feedback&quot;&#10;                                          placeholder=&quot;Tell us what changed your mind...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;&#10;                                {cancellationReason === 'Other' &amp;&amp; (&#10;                                    &lt;&gt;&#10;                                      &lt;label htmlFor=&quot;mobile-other-feedback&quot; className=&quot;text-[#41403D] font-medium mb-2 text-sm block&quot;&gt;&#10;                                        What would have helped you the most?*&#10;                                      &lt;/label&gt;&#10;                                      &lt;textarea&#10;                                          id=&quot;mobile-other-feedback&quot;&#10;                                          placeholder=&quot;Tell us what would have helped...&quot;&#10;                                          rows={3}&#10;                                          value={reasonFollowUpText}&#10;                                          onChange={(e) =&gt; setReasonFollowUpText(e.target.value)}&#10;                                          className=&quot;w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm text-black&quot;&#10;                                      /&gt;&#10;                                      &lt;p className=&quot;text-xs text-gray-500 text-right mt-1&quot;&gt;Min 25 characters ({reasonFollowUpText.length}/25)&lt;/p&gt;&#10;                                    &lt;/&gt;&#10;                                )}&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        )}&#10;                      &lt;/fieldset&gt;&#10;&#10;                      {/* Buttons */}&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              setAcceptedDownsell(true);&#10;                              handleComplete(); // Complete the cancellation flow&#10;                            }}&#10;                            className=&quot;w-full py-3 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                        &gt;&#10;                          Get 50% off | $12.50 &lt;span className=&quot;text-green-200 line-through&quot;&gt;$25&lt;/span&gt;&#10;                        &lt;/button&gt;&#10;                        &lt;button&#10;                            onClick={() =&gt; {&#10;                              if (isReasonFollowUpComplete()) {&#10;                                setCurrentStep('completed');&#10;                              }&#10;                            }}&#10;                            disabled={!isReasonFollowUpComplete()}&#10;                            className={`w-full py-3 px-4 rounded-lg transition-colors font-medium text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ${&#10;                                isReasonFollowUpComplete()&#10;                                    ? 'bg-red-500 text-white hover:bg-red-600 focus:ring-red-500'&#10;                                    : 'bg-gray-200 text-[#41403D] cursor-not-allowed opacity-60 focus:ring-gray-300'&#10;                            }`}&#10;                        &gt;&#10;                          Complete cancellation&#10;                        &lt;/button&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;&#10;          {/* Other screens (congrats, feedback) */}&#10;          {currentStep !== 'initial' &amp;&amp; currentStep !== 'completed' &amp;&amp; currentStep !== 'downsell_completed' &amp;&amp; currentStep !== 'job_recommendations' &amp;&amp; currentStep !== 'survey' &amp;&amp; currentStep !== 'reason_selection' &amp;&amp; (&#10;              &lt;&gt;&#10;                {/* Header with back button and progress */}&#10;                &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;                  &lt;button&#10;                      onClick={handleBack}&#10;                      className=&quot;flex items-center text-[#41403D] hover:text-[#41403D] focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Go back to previous step&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                    Back&#10;                  &lt;/button&gt;&#10;&#10;                  &lt;div className=&quot;flex items-center&quot;&gt;&#10;                    &lt;h2 className=&quot;text-lg font-semibold text-black&quot;&gt;Subscription Cancellation&lt;/h2&gt;&#10;                    &lt;div className=&quot;flex items-center ml-3 space-x-2&quot;&gt;&#10;                      &lt;div className=&quot;flex space-x-1&quot; role=&quot;progressbar&quot; aria-valuenow={stepInfo.step} aria-valuemin={0} aria-valuemax={stepInfo.total} aria-label={`Step ${stepInfo.step} of ${stepInfo.total}`}&gt;&#10;                        {[...Array(stepInfo.total)].map((_, i) =&gt; (&#10;                            &lt;div&#10;                                key={i}&#10;                                className={`w-4 h-2 rounded-sm ${&#10;                                    i &lt; stepInfo.step ? 'bg-green-500' : 'bg-gray-300'&#10;                                }`}&#10;                                aria-hidden=&quot;true&quot;&#10;                            /&gt;&#10;                        ))}&#10;                      &lt;/div&gt;&#10;                      &lt;span className=&quot;text-sm text-[#41403D]&quot;&gt;Step {stepInfo.step} of {stepInfo.total}&lt;/span&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button&#10;                      onClick={handleComplete}&#10;                      className=&quot;text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 rounded&quot;&#10;                      aria-label=&quot;Close modal&quot;&#10;                  &gt;&#10;                    &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;&#10;                      &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;                    &lt;/svg&gt;&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Content for other screens */}&#10;                &lt;div className=&quot;flex flex-col lg:flex-row&quot;&gt;&#10;                  {/* Left Content */}&#10;                  &lt;div className=&quot;flex-1 p-8&quot;&gt;&#10;                    {currentStep === 'congrats' &amp;&amp; (&#10;                        &lt;div className=&quot;flex flex-col h-full justify-between&quot;&gt;&#10;                          &lt;div className=&quot;space-y-6&quot;&gt;&#10;                            &lt;div&gt;&#10;                              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                Congrats on the new role! &#10;                              &lt;/h3&gt;&#10;                              &lt;fieldset className=&quot;mb-6&quot;&gt;&#10;                                &lt;legend className=&quot;text-[#41403D] mb-4&quot;&gt;Did you find this job with MigrateMate?*&lt;/legend&gt;&#10;                                &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                                  &lt;button&#10;                                      onClick={() =&gt; setFoundJobWithMigrateMate(true)}&#10;                                      role=&quot;radio&quot;&#10;                                      aria-checked={foundJobWithMigrateMate === true}&#10;                                      className={`w-full px-6 py-2 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                          foundJobWithMigrateMate === true&#10;                                              ? 'bg-blue-600 text-white border-blue-600'&#10;                                              : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                      }`}&#10;                                  &gt;&#10;                                    Yes&#10;                                  &lt;/button&gt;&#10;                                  &lt;button&#10;                                      onClick={() =&gt; setFoundJobWithMigrateMate(false)}&#10;                                      role=&quot;radio&quot;&#10;                                      aria-checked={foundJobWithMigrateMate === false}&#10;                                      className={`w-full px-6 py-2 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                          foundJobWithMigrateMate === false&#10;                                              ? 'bg-blue-600 text-white border-blue-600'&#10;                                              : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                      }`}&#10;                                  &gt;&#10;                                    No&#10;                                  &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Survey Questions */}&#10;                            &lt;div className=&quot;space-y-4&quot;&gt;&#10;                              &lt;fieldset&gt;&#10;                                &lt;legend className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                  How many roles did you &lt;u&gt;apply&lt;/u&gt; for through MigrateMate?*&#10;                                &lt;/legend&gt;&#10;                                &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                                  {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                                      &lt;button&#10;                                          key={option}&#10;                                          onClick={() =&gt; setRolesApplied(index)}&#10;                                          role=&quot;radio&quot;&#10;                                          aria-checked={rolesApplied === index}&#10;                                          className={`px-4 py-2 rounded-lg border transition-colors h-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                              rolesApplied === index&#10;                                                  ? 'bg-blue-600 text-white border-blue-600'&#10;                                                  : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                          }`}&#10;                                      &gt;&#10;                                        {option}&#10;                                      &lt;/button&gt;&#10;                                  ))}&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;&#10;                              &lt;fieldset&gt;&#10;                                &lt;legend className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                  How many companies did you &lt;u&gt;email&lt;/u&gt; directly?*&#10;                                &lt;/legend&gt;&#10;                                &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                                  {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                                      &lt;button&#10;                                          key={option}&#10;                                          onClick={() =&gt; setCompaniesEmailed(index)}&#10;                                          role=&quot;radio&quot;&#10;                                          aria-checked={companiesEmailed === index}&#10;                                          className={`px-4 py-2 rounded-lg border transition-colors h-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                              companiesEmailed === index&#10;                                                  ? 'bg-blue-600 text-white border-blue-600'&#10;                                                  : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                          }`}&#10;                                      &gt;&#10;                                        {option}&#10;                                      &lt;/button&gt;&#10;                                  ))}&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;&#10;                              &lt;fieldset&gt;&#10;                                &lt;legend className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                  How many different companies did you &lt;u&gt;interview&lt;/u&gt; with?*&#10;                                &lt;/legend&gt;&#10;                                &lt;div className=&quot;grid grid-cols-4 gap-2&quot; role=&quot;radiogroup&quot;&gt;&#10;                                  {[&quot;0&quot;, &quot;1-2&quot;, &quot;3-5&quot;, &quot;5+&quot;].map((option, index) =&gt; (&#10;                                      &lt;button&#10;                                          key={option}&#10;                                          onClick={() =&gt; setCompaniesInterviewed(index)}&#10;                                          role=&quot;radio&quot;&#10;                                          aria-checked={companiesInterviewed === index}&#10;                                          className={`px-4 py-2 rounded-lg border transition-colors h-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${&#10;                                              companiesInterviewed === index&#10;                                                  ? 'bg-blue-600 text-white border-blue-600'&#10;                                                  : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                                          }`}&#10;                                      &gt;&#10;                                        {option}&#10;                                      &lt;/button&gt;&#10;                                  ))}&#10;                                &lt;/div&gt;&#10;                              &lt;/fieldset&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;mt-6&quot;&gt;&#10;                              &lt;button&#10;                                  onClick={handleCongratsContinue}&#10;                                  disabled={foundJobWithMigrateMate === null || rolesApplied === null || companiesEmailed === null || companiesInterviewed === null}&#10;                                  className=&quot;w-full py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;&#10;                                  aria-describedby=&quot;congrats-continue-help&quot;&#10;                              &gt;&#10;                                Continue&#10;                              &lt;/button&gt;&#10;                              &lt;div id=&quot;congrats-continue-help&quot; className=&quot;sr-only&quot;&gt;&#10;                                {(foundJobWithMigrateMate === null || rolesApplied === null || companiesEmailed === null || companiesInterviewed === null) ? 'Please answer all questions to continue' : ''}&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {currentStep === 'feedback' &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                              What&amp;apos;s one thing you wish we could&amp;apos;ve helped you with?&#10;                            &lt;/h3&gt;&#10;                            &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;                              We&amp;apos;re always looking to improve, your thoughts can help us make MigrateMate more useful for others.*&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;feedback-textarea&quot; className=&quot;sr-only&quot;&gt;Your feedback&lt;/label&gt;&#10;                            &lt;textarea&#10;                                id=&quot;feedback-textarea&quot;&#10;                                value={feedback}&#10;                                onChange={(e) =&gt; setFeedback(e.target.value)}&#10;                                placeholder=&quot;Your feedback...&quot;&#10;                                className=&quot;w-full h-40 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black&quot;&#10;                                aria-describedby=&quot;feedback-char-count&quot;&#10;                            /&gt;&#10;                            &lt;div id=&quot;feedback-char-count&quot; className=&quot;text-right text-sm text-[#41403D] mt-2&quot;&gt;&#10;                              Min 25 characters ({feedback.length}/25)&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          &lt;button&#10;                              onClick={handleFeedbackContinue}&#10;                              disabled={feedback.length &lt; 25}&#10;                              className=&quot;w-full py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;&#10;                              aria-describedby=&quot;feedback-continue-help&quot;&#10;                          &gt;&#10;                            Continue&#10;                          &lt;/button&gt;&#10;                          &lt;div id=&quot;feedback-continue-help&quot; className=&quot;sr-only&quot;&gt;&#10;                            {feedback.length &lt; 25 ? 'Please enter at least 25 characters to continue' : ''}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {currentStep === 'visa' &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                          &lt;div&gt;&#10;                            {foundJobWithMigrateMate === true ? (&#10;                                &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                  We helped you land the job, now let&amp;apos;s help you secure your visa.&#10;                                &lt;/h3&gt;&#10;                            ) : (&#10;                                &lt;&gt;&#10;                                  &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-2&quot;&gt;&#10;                                    You landed the job!&lt;br /&gt;&#10;                                    &lt;em&gt;That&amp;apos;s what we live for.&lt;/em&gt;&#10;                                  &lt;/h3&gt;&#10;                                  &lt;h4 className=&quot;text-xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                    Even if it wasn&amp;apos;t through Migrate Mate, let us help get your visa sorted.&#10;                                  &lt;/h4&gt;&#10;                                &lt;/&gt;&#10;                            )}&#10;&#10;                            &lt;fieldset className=&quot;mb-4&quot;&gt;&#10;                              &lt;legend className=&quot;text-[#41403D] mb-2&quot;&gt;Is your company providing an immigration lawyer to help with your visa?*&lt;/legend&gt;&#10;                              &lt;div className=&quot;space-y-2&quot;&gt;&#10;                                &lt;label className=&quot;flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;immigrationLawyer&quot;&#10;                                      checked={hasImmigrationLawyer === true}&#10;                                      onChange={() =&gt; setHasImmigrationLawyer(true)}&#10;                                      className=&quot;mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;text-[#41403D]&quot;&gt;Yes&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                                &lt;label className=&quot;flex items-center&quot;&gt;&#10;                                  &lt;input&#10;                                      type=&quot;radio&quot;&#10;                                      name=&quot;immigrationLawyer&quot;&#10;                                      checked={hasImmigrationLawyer === false}&#10;                                      onChange={() =&gt; setHasImmigrationLawyer(false)}&#10;                                      className=&quot;mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 focus:ring-2&quot;&#10;                                  /&gt;&#10;                                  &lt;span className=&quot;text-[#41403D]&quot;&gt;No&lt;/span&gt;&#10;                                &lt;/label&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/fieldset&gt;&#10;&#10;                            {hasImmigrationLawyer === true &amp;&amp; (&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                                  &lt;label htmlFor=&quot;visa-type-yes&quot; className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                    What visa will you be applying for?*&#10;                                  &lt;/label&gt;&#10;                                  &lt;input&#10;                                      id=&quot;visa-type-yes&quot;&#10;                                      type=&quot;text&quot;&#10;                                      value={visaType}&#10;                                      onChange={(e) =&gt; setVisaType(e.target.value)}&#10;                                      placeholder=&quot;Enter visa type&quot;&#10;                                      className=&quot;w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black&quot;&#10;                                      onBlur={() =&gt; {&#10;                                        if (!visaType.trim()) {&#10;                                          setHasImmigrationLawyer(null);&#10;                                        }&#10;                                      }}&#10;                                  /&gt;&#10;                                &lt;/div&gt;&#10;                            )}&#10;&#10;                            {hasImmigrationLawyer === false &amp;&amp; (&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                                  &lt;label htmlFor=&quot;visa-type-no&quot; className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                                    We can connect you with one of our trusted partners. Which visa would you like to apply for?*&#10;                                  &lt;/label&gt;&#10;                                  &lt;input&#10;                                      id=&quot;visa-type-no&quot;&#10;                                      type=&quot;text&quot;&#10;                                      value={visaType}&#10;                                      onChange={(e) =&gt; setVisaType(e.target.value)}&#10;                                      placeholder=&quot;Enter visa type&quot;&#10;                                      className=&quot;w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-black&quot;&#10;                                      onBlur={() =&gt; {&#10;                                        if (!visaType.trim()) {&#10;                                          setHasImmigrationLawyer(null);&#10;                                        }&#10;                                      }}&#10;                                  /&gt;&#10;                                &lt;/div&gt;&#10;                            )}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;border-t border-gray-200 mt-2&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#10;&#10;                          &lt;div className=&quot;pt-3&quot;&gt;&#10;                            &lt;button&#10;                                onClick={() =&gt; setCurrentStep('completed')}&#10;                                disabled={hasImmigrationLawyer === null || !visaType.trim()}&#10;                                className=&quot;w-full py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;&#10;                                aria-describedby=&quot;visa-complete-help&quot;&#10;                            &gt;&#10;                              Complete cancellation&#10;                            &lt;/button&gt;&#10;                            &lt;div id=&quot;visa-complete-help&quot; className=&quot;sr-only&quot;&gt;&#10;                              {(hasImmigrationLawyer === null || !visaType.trim()) ? 'Please answer all questions to complete cancellation' : ''}&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {currentStep === 'downsell' &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                              We built this to help you land the job, this makes it a little easier.&#10;                            &lt;/h3&gt;&#10;                            &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;                              We&amp;apos;ve been there and we&amp;apos;re here to help you.&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* Downsell Offer Box - Matching Screenshot */}&#10;                          &lt;div className=&quot;bg-purple-100 border-2 border-purple-200 rounded-xl p-6 mb-6&quot;&gt;&#10;                            &lt;div className=&quot;text-center&quot;&gt;&#10;                              &lt;h4 className=&quot;text-lg font-bold text-[#41403D] mb-4&quot;&gt;&#10;                                Here&amp;apos;s &lt;u className=&quot;text-[#41403D]&quot;&gt;50% off&lt;/u&gt; until you find a job.&#10;                              &lt;/h4&gt;&#10;                              &lt;div className=&quot;flex items-baseline justify-center space-x-3 mb-4&quot;&gt;&#10;                           &lt;span className=&quot;text-3xl font-bold text-purple-600&quot;&gt;&#10;                             ${getDownsellPrice()}/month&#10;                           &lt;/span&gt;&#10;                                &lt;span className=&quot;text-lg text-gray-500 line-through&quot;&gt;&#10;                             ${mockSubscription.monthly_price / 100}/month&#10;                           &lt;/span&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;button&#10;                                  onClick={() =&gt; {&#10;                                    setAcceptedDownsell(true);&#10;                                    setCurrentStep('downsell_completed');&#10;                                  }}&#10;                                  className=&quot;w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold mb-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2&quot;&#10;                              &gt;&#10;                                Get 50% off&#10;                              &lt;/button&gt;&#10;                              &lt;p className=&quot;text-sm text-[#41403D] italic&quot;&gt;&#10;                                You won&amp;apos;t be charged until your next billing date.&#10;                              &lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* No Thanks Button */}&#10;                          &lt;button&#10;                              onClick={() =&gt; {&#10;                                setAcceptedDownsell(false);&#10;                                setCurrentStep('survey');&#10;                              }}&#10;                              className=&quot;w-full py-3 px-6 bg-white border border-gray-300 text-[#41403D] rounded-lg hover:bg-gray-50 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2&quot;&#10;                          &gt;&#10;                            No thanks&#10;                          &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Right Image for other screens */}&#10;                  &lt;div className=&quot;lg:w-[400px] h-auto relative m-5 overflow-hidden rounded-2xl&quot;&gt;&#10;                    &lt;Image&#10;                        src=&quot;/empire-state-compressed.jpg&quot;&#10;                        alt=&quot;New York City skyline with Empire State Building&quot;&#10;                        width={400}&#10;                        height={600}&#10;                        className=&quot;object-cover h-full&quot;&#10;                        priority&#10;                        sizes=&quot;400px&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/&gt;&#10;          )}&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;  );&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/shared/Button.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/shared/Button.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;&#10;interface ButtonProps extends React.ButtonHTMLAttributes&lt;HTMLButtonElement&gt; {&#10;  variant?: 'primary' | 'secondary' | 'danger' | 'success' | 'ghost';&#10;  size?: 'sm' | 'md' | 'lg';&#10;  fullWidth?: boolean;&#10;  children: React.ReactNode;&#10;}&#10;&#10;const Button: React.FC&lt;ButtonProps&gt; = ({&#10;  variant = 'primary',&#10;  size = 'md',&#10;  fullWidth = false,&#10;  className = '',&#10;  disabled = false,&#10;  children,&#10;  ...props&#10;}) =&gt; {&#10;  const baseClasses = 'rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2';&#10;&#10;  const variantClasses = {&#10;    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 disabled:bg-gray-300 disabled:text-gray-500',&#10;    secondary: 'bg-white border border-gray-300 text-[#41403D] hover:bg-gray-50 hover:border-gray-400',&#10;    danger: 'bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 disabled:bg-gray-200 disabled:text-[#41403D]',&#10;    success: 'bg-green-500 text-white hover:bg-green-600 focus:ring-green-500',&#10;    ghost: 'bg-transparent text-[#41403D] hover:bg-gray-100'&#10;  };&#10;&#10;  const sizeClasses = {&#10;    sm: 'px-3 py-2 text-sm',&#10;    md: 'px-4 py-3 text-sm lg:px-6',&#10;    lg: 'px-6 py-3 text-base'&#10;  };&#10;&#10;  const widthClass = fullWidth ? 'w-full' : '';&#10;  const disabledClass = disabled ? 'cursor-not-allowed opacity-60' : '';&#10;&#10;  return (&#10;    &lt;button&#10;      className={`&#10;        ${baseClasses}&#10;        ${variantClasses[variant]}&#10;        ${sizeClasses[size]}&#10;        ${widthClass}&#10;        ${disabledClass}&#10;        ${className}&#10;      `.trim()}&#10;      disabled={disabled}&#10;      {...props}&#10;    &gt;&#10;      {children}&#10;    &lt;/button&gt;&#10;  );&#10;};&#10;&#10;export default Button;&#10;&#10;" />
              <option name="updatedContent" value="import React from 'react';&#10;&#10;interface RamyaButtonProps extends React.ButtonHTMLAttributes&lt;HTMLButtonElement&gt; {&#10;  variant?: 'primary' | 'secondary' | 'danger' | 'success' | 'ghost';&#10;  size?: 'sm' | 'md' | 'lg';&#10;  fullWidth?: boolean;&#10;  children: React.ReactNode;&#10;}&#10;&#10;const RamyaButton: React.FC&lt;RamyaButtonProps&gt; = ({&#10;  variant = 'primary',&#10;  size = 'md',&#10;  fullWidth = false,&#10;  className = '',&#10;  disabled = false,&#10;  children,&#10;  ...props&#10;}) =&gt; {&#10;  const baseClasses = 'rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2';&#10;  const variantClasses = {&#10;    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 disabled:bg-gray-300 disabled:text-gray-500',&#10;    secondary: 'bg-white border border-gray-300 text-[#41403D] hover:bg-gray-50 hover:border-gray-400',&#10;    danger: 'bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 disabled:bg-gray-200 disabled:text-[#41403D]',&#10;    success: 'bg-green-500 text-white hover:bg-green-600 focus:ring-green-500',&#10;    ghost: 'bg-transparent text-[#41403D] hover:bg-gray-100'&#10;  };&#10;  const sizeClasses = {&#10;    sm: 'px-3 py-2 text-sm',&#10;    md: 'px-4 py-3 text-sm lg:px-6',&#10;    lg: 'px-6 py-3 text-base'&#10;  };&#10;  const widthClass = fullWidth ? 'w-full' : '';&#10;  const disabledClass = disabled ? 'cursor-not-allowed opacity-60' : '';&#10;  return (&#10;    &lt;button&#10;      className={`&#10;        ${baseClasses}&#10;        ${variantClasses[variant]}&#10;        ${sizeClasses[size]}&#10;        ${widthClass}&#10;        ${disabledClass}&#10;        ${className}&#10;      `.trim()}&#10;      disabled={disabled}&#10;      {...props}&#10;    &gt;&#10;      {children}&#10;    &lt;/button&gt;&#10;  );&#10;};&#10;&#10;export default RamyaButton;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/shared/TextArea.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/shared/TextArea.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;&#10;interface TextAreaProps extends React.TextareaHTMLAttributes&lt;HTMLTextAreaElement&gt; {&#10;  label?: string;&#10;  error?: string;&#10;  showCharCount?: boolean;&#10;  minLength?: number;&#10;  helperText?: string;&#10;}&#10;&#10;const TextArea: React.FC&lt;TextAreaProps&gt; = ({&#10;  label,&#10;  error,&#10;  showCharCount = false,&#10;  minLength,&#10;  helperText,&#10;  value = '',&#10;  className = '',&#10;  ...props&#10;}) =&gt; {&#10;  const textLength = String(value).length;&#10;&#10;  return (&#10;    &lt;div className=&quot;w-full&quot;&gt;&#10;      {label &amp;&amp; (&#10;        &lt;label className=&quot;block text-[#41403D] font-medium mb-3&quot;&gt;&#10;          {label}&#10;        &lt;/label&gt;&#10;      )}&#10;&#10;      {error &amp;&amp; (&#10;        &lt;p className=&quot;text-red-500 text-sm mb-3&quot;&gt;{error}&lt;/p&gt;&#10;      )}&#10;&#10;      {helperText &amp;&amp; !error &amp;&amp; (&#10;        &lt;p className=&quot;text-[#41403D] text-sm mb-3&quot;&gt;{helperText}&lt;/p&gt;&#10;      )}&#10;&#10;      &lt;textarea&#10;        value={value}&#10;        className={`&#10;          w-full px-3 py-3&#10;          border border-gray-300 rounded-lg&#10;          focus:ring-2 focus:ring-blue-500 focus:border-blue-500&#10;          resize-none text-black&#10;          ${className}&#10;        `.trim()}&#10;        {...props}&#10;      /&gt;&#10;&#10;      {showCharCount &amp;&amp; minLength &amp;&amp; (&#10;        &lt;p className=&quot;text-sm text-gray-500 text-right mt-1&quot;&gt;&#10;          {minLength ? `Min ${minLength} characters (${textLength}/${minLength})` : `${textLength} characters`}&#10;        &lt;/p&gt;&#10;      )}&#10;    &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default TextArea;&#10;&#10;" />
              <option name="updatedContent" value="import React from 'react';&#10;&#10;interface RamyaTextAreaProps extends React.TextareaHTMLAttributes&lt;HTMLTextAreaElement&gt; {&#10;  label?: string;&#10;  error?: string;&#10;  showCharCount?: boolean;&#10;  minLength?: number;&#10;  helperText?: string;&#10;}&#10;&#10;const RamyaTextArea: React.FC&lt;RamyaTextAreaProps&gt; = ({&#10;  label,&#10;  error,&#10;  showCharCount = false,&#10;  minLength,&#10;  helperText,&#10;  value = '',&#10;  className = '',&#10;  ...props&#10;}) =&gt; {&#10;  const textLength = String(value).length;&#10;&#10;  return (&#10;    &lt;div className=&quot;w-full&quot;&gt;&#10;      {label &amp;&amp; (&#10;        &lt;label className=&quot;block text-[#41403D] font-medium mb-3&quot;&gt;&#10;          {label}&#10;        &lt;/label&gt;&#10;      )}&#10;&#10;      &lt;textarea&#10;        value={value}&#10;        className={`&#10;          w-full px-3 py-3&#10;          border border-gray-300 rounded-lg&#10;          focus:ring-2 focus:ring-blue-500 focus:border-blue-500&#10;          resize-none text-black&#10;          ${className}&#10;        `.trim()}&#10;        {...props}&#10;      /&gt;&#10;&#10;      {helperText &amp;&amp; (&#10;        &lt;div className=&quot;text-sm text-gray-500 mt-1&quot;&gt;{helperText}&lt;/div&gt;&#10;      )}&#10;&#10;      {error &amp;&amp; (&#10;        &lt;div className=&quot;text-sm text-red-500 mt-1&quot;&gt;{error}&lt;/div&gt;&#10;      )}&#10;&#10;      {showCharCount &amp;&amp; minLength &amp;&amp; (&#10;        &lt;div className=&quot;text-sm text-gray-500 text-right mt-1&quot;&gt;&#10;          Min {minLength} characters ({textLength}/{minLength})&#10;        &lt;/div&gt;&#10;      )}&#10;    &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default RamyaTextArea;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/shared/index.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/shared/index.ts" />
              <option name="originalContent" value="export { default as mmcf_Button } from './mmcf_Button';&#10;export { default as mmcf_ModalLayout } from './mmcf_ModalLayout';&#10;export { default as mmcf_RadioGroup } from './mmcf_RadioGroup';&#10;export { default as mmcf_StepHeader } from './mmcf_StepHeader';&#10;export { default as mmcf_StepIndicator } from './mmcf_StepIndicator';&#10;export { default as mmcf_SurveyQuestion } from './mmcf_SurveyQuestion';&#10;export { default as mmcf_TextArea } from './mmcf_TextArea';&#10;&#10;&#10;" />
              <option name="updatedContent" value="export { default as RamyaButton } from './Button';&#10;export { default as RamyaModalLayout } from './ModalLayout';&#10;export { default as RamyaRadioGroup } from './RadioGroup';&#10;export { default as RamyaStepHeader } from './StepHeader';&#10;export { default as RamyaStepIndicator } from './StepIndicator';&#10;export { default as RamyaSurveyQuestion } from './SurveyQuestion';&#10;export { default as RamyaTextArea } from './TextArea';" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/steps/CompletedStep.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/steps/CompletedStep.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import Image from 'next/image';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;// import StepHeader from '../shared/StepHeader';&#10;import StepIndicator from '../shared/StepIndicator';&#10;import Button from '../shared/Button';&#10;&#10;interface CompletedStepProps {&#10;  onClose: () =&gt; void;&#10;}&#10;&#10;const CompletedStep: React.FC&lt;CompletedStepProps&gt; = ({ onClose }) =&gt; {&#10;  const {&#10;    cancellationReason,&#10;    foundJobWithMigrateMate,&#10;    goBack&#10;  } = useCancellationContext();&#10;  &#10;  const renderContent = () =&gt; {&#10;    // &quot;Not yet&quot; flow completion&#10;    if (cancellationReason) {&#10;      return (&#10;        &lt;&gt;&#10;          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;            Sorry to see you go, mate.&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-xl font-semibold text-[#41403D] leading-normal mb-8&quot;&gt;&#10;            Thanks for being with us, and you&amp;apos;re&lt;br /&gt;&#10;            always welcome back.&#10;          &lt;/p&gt;&#10;          &lt;div className=&quot;space-y-2 mb-8&quot;&gt;&#10;            &lt;p className=&quot;text-base text-[#62605C] font-bold mb-0&quot;&gt;&#10;              Your subscription is set to end on XX date.&#10;            &lt;/p&gt;&#10;            &lt;p className=&quot;text-base text-[#62605C] font-bold&quot;&gt;&#10;              You&amp;apos;ll still have full access until then. No further charges after that.&#10;            &lt;/p&gt;&#10;          &lt;/div&gt;&#10;          &lt;p className=&quot;text-base text-[#41403D] mb-2&quot;&gt;&#10;            Changed your mind? You can reactivate anytime before your end date.&#10;          &lt;/p&gt;&#10;        &lt;/&gt;&#10;      );&#10;    }&#10;    &#10;    // &quot;Yes&quot; flow - found job WITH MigrateMate&#10;    if (foundJobWithMigrateMate === true) {&#10;      return (&#10;        &lt;&gt;&#10;          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-0&quot;&gt;&#10;            All done, your cancellation&amp;apos;s been processed.&#10;          &lt;/h3&gt;&#10;          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-6&quot;&gt;&#10;            been processed.&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-[#41403D] leading-relaxed font-semibold&quot;&gt;&#10;            We&amp;apos;re stoked to hear you&amp;apos;ve landed a job and sorted your visa. &#10;          &lt;/p&gt;&#10;          &lt;p className=&quot;text-[#41403D] leading-relaxed mb-8 font-semibold&quot;&gt;&#10;            Big congrats from the team. &#10;          &lt;/p&gt;&#10;        &lt;/&gt;&#10;      );&#10;    }&#10;    &#10;    // &quot;Yes&quot; flow - found job but NOT with MigrateMate&#10;    return (&#10;      &lt;&gt;&#10;        &lt;h3 className=&quot;text-3xl font-bold text-[rgb(65,64,61)] leading-tight mb-2&quot;&gt;&#10;          Your cancellation&amp;apos;s all sorted, mate,&#10;        &lt;/h3&gt;&#10;        &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-8&quot;&gt;&#10;          no more charges.&#10;        &lt;/h3&gt;&#10;        &#10;        {/* Profile Section */}&#10;        &lt;div className=&quot;mb-6&quot;&gt;&#10;          &lt;div className=&quot;flex flex-col mb-4 bg-gray-100 rounded-lg p-4&quot;&gt;&#10;            &lt;div className=&quot;flex items-center mb-3&quot;&gt;&#10;              &lt;div className=&quot;w-12 h-12 rounded-full overflow-hidden mr-3&quot;&gt;&#10;                &lt;Image &#10;                  src=&quot;/mihailo-profile.jpeg&quot; &#10;                  alt=&quot;Mihailo Bozic&quot;&#10;                  width={48}&#10;                  height={48}&#10;                  className=&quot;object-cover&quot;&#10;                /&gt;&#10;              &lt;/div&gt;&#10;              &lt;div&gt;&#10;                &lt;div className=&quot;font-semibold text-[#41403D]&quot;&gt;Mihailo Bozic&lt;/div&gt;&#10;                &lt;div className=&quot;text-[#41403D] text-sm&quot;&gt;&amp;lt;mihailo@migratemate.co&amp;gt;&lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div className=&quot;space-y-4 mt-2 pl-10&quot;&gt;&#10;              &lt;p className=&quot;text-[#41403D] text-base font-bold&quot;&gt;&#10;                I&amp;apos;ll be reaching out soon to help with the visa side of things.&#10;              &lt;/p&gt;&#10;              &lt;p className=&quot;text-[#41403D] text-base&quot;&gt;&#10;                We&amp;apos;ve got your back, whether it&amp;apos;s questions, paperwork, or just&lt;br /&gt;&#10;                figuring out your options.&#10;              &lt;/p&gt;&#10;              &lt;p className=&quot;text-[#41403D] text-base font-semibold&quot;&gt;&#10;                Keep an eye on your inbox, I&amp;apos;ll be in touch &lt;u&gt;shortly&lt;/u&gt;.&#10;              &lt;/p&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/&gt;&#10;    );&#10;  };&#10;  &#10;  return (&#10;    &lt;&gt;&#10;      {/* Header */}&#10;      &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;        &lt;button&#10;          onClick={goBack}&#10;          className=&quot;flex items-center text-[#41403D] hover:text-[#41403D]&quot;&#10;        &gt;&#10;          &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;&#10;            &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;          &lt;/svg&gt;&#10;          Back&#10;        &lt;/button&gt;&#10;        &#10;        &lt;div className=&quot;flex-1 flex justify-center&quot;&gt;&#10;          &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;            &lt;h2 className=&quot;text-lg font-bold text-black&quot;&gt;Subscription Cancelled&lt;/h2&gt;&#10;            &lt;StepIndicator currentStep={0} totalSteps={3} showLabel={true} /&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &#10;        &lt;button onClick={onClose} className=&quot;text-gray-400 hover:text-gray-600 ml-4&quot;&gt;&#10;          &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;&#10;            &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;          &lt;/svg&gt;&#10;        &lt;/button&gt;&#10;      &lt;/div&gt;&#10;&#10;      {/* Desktop Layout */}&#10;      &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;        {/* Left Content */}&#10;        &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;          &lt;div className=&quot;space-y-6&quot;&gt;&#10;            &lt;div&gt;{renderContent()}&lt;/div&gt;&#10;            &lt;div className=&quot;border-t border-gray-200&quot;&gt;&lt;/div&gt;&#10;            &#10;            &lt;Button&#10;              onClick={onClose}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;            &lt;/Button&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Right Image */}&#10;        &lt;div className=&quot;w-[400px] h-auto relative overflow-hidden rounded-2xl m-5&quot;&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;&#10;      {/* Mobile Layout */}&#10;      &lt;div className=&quot;lg:hidden&quot;&gt;&#10;        {/* Image on top */}&#10;        &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl&quot;&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Content below */}&#10;        &lt;div className=&quot;p-6&quot;&gt;&#10;          &lt;div className=&quot;space-y-6&quot;&gt;&#10;            &lt;div&gt;&#10;              {/* Mobile content rendering logic simplified for brevity */}&#10;              {renderContent()}&#10;            &lt;/div&gt;&#10;            &#10;            &lt;Button&#10;              onClick={onClose}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;            &lt;/Button&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/&gt;&#10;  );&#10;};&#10;&#10;export default CompletedStep;&#10;" />
              <option name="updatedContent" value="import React from 'react';&#10;import Image from 'next/image';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import { RamyaStepIndicator } from '../shared';&#10;import { RamyaButton } from '../shared';&#10;&#10;interface RamyaCompletedStepProps {&#10;  onClose: () =&gt; void;&#10;}&#10;&#10;const RamyaCompletedStep: React.FC&lt;RamyaCompletedStepProps&gt; = ({ onClose }) =&gt; {&#10;  const {&#10;    cancellationReason,&#10;    foundJobWithMigrateMate,&#10;    goBack&#10;  } = useCancellationContext();&#10;  &#10;  const renderContent = () =&gt; {&#10;    // &quot;Not yet&quot; flow completion&#10;    if (cancellationReason) {&#10;      return (&#10;        &lt;&gt;&#10;          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-4&quot;&gt;&#10;            Sorry to see you go, mate.&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-xl font-semibold text-[#41403D] leading-normal mb-8&quot;&gt;&#10;            Thanks for being with us, and you&amp;apos;re&lt;br /&gt;&#10;            always welcome back.&#10;          &lt;/p&gt;&#10;          &lt;div className=&quot;space-y-2 mb-8&quot;&gt;&#10;            &lt;p className=&quot;text-base text-[#62605C] font-bold mb-0&quot;&gt;&#10;              Your subscription is set to end on XX date.&#10;            &lt;/p&gt;&#10;            &lt;p className=&quot;text-base text-[#62605C] font-bold&quot;&gt;&#10;              You&amp;apos;ll still have full access until then. No further charges after that.&#10;            &lt;/p&gt;&#10;          &lt;/div&gt;&#10;          &lt;p className=&quot;text-base text-[#41403D] mb-2&quot;&gt;&#10;            Changed your mind? You can reactivate anytime before your end date.&#10;          &lt;/p&gt;&#10;        &lt;/&gt;&#10;      );&#10;    }&#10;    &#10;    // &quot;Yes&quot; flow - found job WITH MigrateMate&#10;    if (foundJobWithMigrateMate === true) {&#10;      return (&#10;        &lt;&gt;&#10;          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-0&quot;&gt;&#10;            All done, your cancellation&amp;apos;s been processed.&#10;          &lt;/h3&gt;&#10;          &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-6&quot;&gt;&#10;            been processed.&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-[#41403D] leading-relaxed font-semibold&quot;&gt;&#10;            We&amp;apos;re stoked to hear you&amp;apos;ve landed a job and sorted your visa. &#10;          &lt;/p&gt;&#10;          &lt;p className=&quot;text-[#41403D] leading-relaxed mb-8 font-semibold&quot;&gt;&#10;            Big congrats from the team. &#10;          &lt;/p&gt;&#10;        &lt;/&gt;&#10;      );&#10;    }&#10;    &#10;    // &quot;Yes&quot; flow - found job but NOT with MigrateMate&#10;    return (&#10;      &lt;&gt;&#10;        &lt;h3 className=&quot;text-3xl font-bold text-[rgb(65,64,61)] leading-tight mb-2&quot;&gt;&#10;          Your cancellation&amp;apos;s all sorted, mate,&#10;        &lt;/h3&gt;&#10;        &lt;h3 className=&quot;text-3xl font-bold text-[#41403D] leading-tight mb-8&quot;&gt;&#10;          no more charges.&#10;        &lt;/h3&gt;&#10;        &#10;        {/* Profile Section */}&#10;        &lt;div className=&quot;mb-6&quot;&gt;&#10;          &lt;div className=&quot;flex flex-col mb-4 bg-gray-100 rounded-lg p-4&quot;&gt;&#10;            &lt;div className=&quot;flex items-center mb-3&quot;&gt;&#10;              &lt;div className=&quot;w-12 h-12 rounded-full overflow-hidden mr-3&quot;&gt;&#10;                &lt;Image &#10;                  src=&quot;/mihailo-profile.jpeg&quot; &#10;                  alt=&quot;Mihailo Bozic&quot;&#10;                  width={48}&#10;                  height={48}&#10;                  className=&quot;object-cover&quot;&#10;                /&gt;&#10;              &lt;/div&gt;&#10;              &lt;div&gt;&#10;                &lt;div className=&quot;font-semibold text-[#41403D]&quot;&gt;Mihailo Bozic&lt;/div&gt;&#10;                &lt;div className=&quot;text-[#41403D] text-sm&quot;&gt;&amp;lt;mihailo@migratemate.co&amp;gt;&lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div className=&quot;space-y-4 mt-2 pl-10&quot;&gt;&#10;              &lt;p className=&quot;text-[#41403D] text-base font-bold&quot;&gt;&#10;                I&amp;apos;ll be reaching out soon to help with the visa side of things.&#10;              &lt;/p&gt;&#10;              &lt;p className=&quot;text-[#41403D] text-base&quot;&gt;&#10;                We&amp;apos;ve got your back, whether it&amp;apos;s questions, paperwork, or just&lt;br /&gt;&#10;                figuring out your options.&#10;              &lt;/p&gt;&#10;              &lt;p className=&quot;text-[#41403D] text-base font-semibold&quot;&gt;&#10;                Keep an eye on your inbox, I&amp;apos;ll be in touch &lt;u&gt;shortly&lt;/u&gt;.&#10;              &lt;/p&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/&gt;&#10;    );&#10;  };&#10;  &#10;  return (&#10;    &lt;&gt;&#10;      {/* Header */}&#10;      &lt;div className=&quot;flex items-center justify-between p-6 border-b border-gray-200&quot;&gt;&#10;        &lt;button&#10;          onClick={goBack}&#10;          className=&quot;flex items-center text-[#41403D] hover:text-[#41403D]&quot;&#10;        &gt;&#10;          &lt;svg className=&quot;w-5 h-5 mr-1&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;&#10;            &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M15 19l-7-7 7-7&quot; /&gt;&#10;          &lt;/svg&gt;&#10;          Back&#10;        &lt;/button&gt;&#10;        &lt;div className=&quot;flex-1 flex justify-center&quot;&gt;&#10;          &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;            &lt;h2 className=&quot;text-lg font-bold text-black&quot;&gt;Subscription Cancelled&lt;/h2&gt;&#10;            &lt;RamyaStepIndicator currentStep={0} totalSteps={3} showLabel={true} /&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &lt;button onClick={onClose} className=&quot;text-gray-400 hover:text-gray-600 ml-4&quot;&gt;&#10;          &lt;svg className=&quot;w-6 h-6&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;&#10;            &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; strokeWidth={2} d=&quot;M6 18L18 6M6 6l12 12&quot; /&gt;&#10;          &lt;/svg&gt;&#10;        &lt;/button&gt;&#10;      &lt;/div&gt;&#10;&#10;      {/* Desktop Layout */}&#10;      &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;        {/* Left Content */}&#10;        &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;          &lt;div className=&quot;space-y-6&quot;&gt;&#10;            &lt;div&gt;{renderContent()}&lt;/div&gt;&#10;            &lt;div className=&quot;border-t border-gray-200&quot;&gt;&lt;/div&gt;&#10;            &#10;            &lt;RamyaButton&#10;              onClick={onClose}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;            &lt;/RamyaButton&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Right Image */}&#10;        &lt;div className=&quot;w-[400px] h-auto relative overflow-hidden rounded-2xl m-5&quot;&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;&#10;      {/* Mobile Layout */}&#10;      &lt;div className=&quot;lg:hidden&quot;&gt;&#10;        {/* Image on top */}&#10;        &lt;div className=&quot;h-48 relative overflow-hidden rounded-t-2xl&quot;&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Content below */}&#10;        &lt;div className=&quot;p-6&quot;&gt;&#10;          &lt;div className=&quot;space-y-6&quot;&gt;&#10;            &lt;div&gt;&#10;              {renderContent()}&#10;            &lt;/div&gt;&#10;            &lt;RamyaButton&#10;              onClick={onClose}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              {cancellationReason ? 'Back to Jobs' : 'Finish'}&#10;            &lt;/RamyaButton&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/&gt;&#10;  );&#10;};&#10;&#10;export default RamyaCompletedStep;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/steps/CongratsStep.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/steps/CongratsStep.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import Button from '../shared/Button';&#10;&#10;const CongratsStep: React.FC = () =&gt; {&#10;  const {&#10;    foundJobWithMigrateMate,&#10;    rolesApplied,&#10;    companiesEmailed,&#10;    companiesInterviewed,&#10;    setFoundJobWithMigrateMate,&#10;    setRolesApplied,&#10;    setCompaniesEmailed,&#10;    setCompaniesInterviewed,&#10;    setCurrentStep,&#10;    updateCancellation&#10;  } = useCancellationContext();&#10;  &#10;  const handleContinue = async () =&gt; {&#10;    if (foundJobWithMigrateMate !== null &amp;&amp; &#10;        rolesApplied !== null &amp;&amp; &#10;        companiesEmailed !== null &amp;&amp; &#10;        companiesInterviewed !== null) {&#10;      await updateCancellation({&#10;        roles_applied: rolesApplied,&#10;        companies_emailed: companiesEmailed,&#10;        companies_interviewed: companiesInterviewed,&#10;        found_job_with_migrate_mate: foundJobWithMigrateMate&#10;      });&#10;      setCurrentStep('feedback');&#10;    }&#10;  };&#10;  &#10;  const isFormComplete = foundJobWithMigrateMate !== null &amp;&amp; &#10;                        rolesApplied !== null &amp;&amp; &#10;                        companiesEmailed !== null &amp;&amp; &#10;                        companiesInterviewed !== null;&#10;  &#10;  return (&#10;    &lt;div className=&quot;flex flex-col h-full justify-between&quot;&gt;&#10;        &lt;div className=&quot;space-y-6&quot;&gt;&#10;          &lt;div&gt;&#10;            &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;              Congrats on the new role! &#10;            &lt;/h3&gt;&#10;            &lt;div className=&quot;mb-6&quot;&gt;&#10;              &lt;p className=&quot;text-[#41403D] mb-4&quot;&gt;Did you find this job with MigrateMate?*&lt;/p&gt;&#10;              &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                &lt;button&#10;                  onClick={() =&gt; setFoundJobWithMigrateMate(true)}&#10;                  className={`w-full px-6 py-2 rounded-lg border transition-colors ${&#10;                    foundJobWithMigrateMate === true&#10;                      ? 'bg-blue-600 text-white border-blue-600'&#10;                      : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                  }`}&#10;                &gt;&#10;                  Yes&#10;                &lt;/button&gt;&#10;                &lt;button&#10;                  onClick={() =&gt; setFoundJobWithMigrateMate(false)}&#10;                  className={`w-full px-6 py-2 rounded-lg border transition-colors ${&#10;                    foundJobWithMigrateMate === false&#10;                      ? 'bg-blue-600 text-white border-blue-600'&#10;                      : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                  }`}&#10;                &gt;&#10;                  No&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Survey Questions */}&#10;          &lt;div className=&quot;space-y-4&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                How many roles did you &lt;u&gt;apply&lt;/u&gt; for through MigrateMate?*&#10;              &lt;/label&gt;&#10;              &lt;div className=&quot;grid grid-cols-4 gap-2&quot;&gt;&#10;                {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                  &lt;button&#10;                    key={option}&#10;                    onClick={() =&gt; setRolesApplied(index)}&#10;                    className={`px-4 py-2 rounded-lg border transition-colors h-10 ${&#10;                      rolesApplied === index&#10;                        ? 'bg-blue-600 text-white border-blue-600'&#10;                        : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                    }`}&#10;                  &gt;&#10;                    {option}&#10;                  &lt;/button&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                How many companies did you &lt;u&gt;email&lt;/u&gt; directly?*&#10;              &lt;/label&gt;&#10;              &lt;div className=&quot;grid grid-cols-4 gap-2&quot;&gt;&#10;                {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                  &lt;button&#10;                    key={option}&#10;                    onClick={() =&gt; setCompaniesEmailed(index)}&#10;                    className={`px-4 py-2 rounded-lg border transition-colors h-10 ${&#10;                      companiesEmailed === index&#10;                        ? 'bg-blue-600 text-white border-blue-600'&#10;                        : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                    }`}&#10;                  &gt;&#10;                    {option}&#10;                  &lt;/button&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                How many different companies did you &lt;u&gt;interview&lt;/u&gt; with?*&#10;              &lt;/label&gt;&#10;              &lt;div className=&quot;grid grid-cols-4 gap-2&quot;&gt;&#10;                {[&quot;0&quot;, &quot;1-2&quot;, &quot;3-5&quot;, &quot;5+&quot;].map((option, index) =&gt; (&#10;                  &lt;button&#10;                    key={option}&#10;                    onClick={() =&gt; setCompaniesInterviewed(index)}&#10;                    className={`px-4 py-2 rounded-lg border transition-colors h-10 ${&#10;                      companiesInterviewed === index&#10;                        ? 'bg-blue-600 text-white border-blue-600'&#10;                        : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                    }`}&#10;                  &gt;&#10;                    {option}&#10;                  &lt;/button&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &#10;        &lt;div className=&quot;mt-6&quot;&gt;&#10;          &lt;Button&#10;            onClick={handleContinue}&#10;            disabled={!isFormComplete}&#10;            variant=&quot;primary&quot;&#10;            fullWidth&#10;          &gt;&#10;            Continue&#10;          &lt;/Button&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default CongratsStep;&#10;" />
              <option name="updatedContent" value="import React from 'react';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import { RamyaButton } from '../shared';&#10;&#10;const RamyaCongratsStep: React.FC = () =&gt; {&#10;  const {&#10;    foundJobWithMigrateMate,&#10;    rolesApplied,&#10;    companiesEmailed,&#10;    companiesInterviewed,&#10;    setFoundJobWithMigrateMate,&#10;    setRolesApplied,&#10;    setCompaniesEmailed,&#10;    setCompaniesInterviewed,&#10;    setCurrentStep,&#10;    updateCancellation&#10;  } = useCancellationContext();&#10;  &#10;  const handleContinue = async () =&gt; {&#10;    if (foundJobWithMigrateMate !== null &amp;&amp; &#10;        rolesApplied !== null &amp;&amp; &#10;        companiesEmailed !== null &amp;&amp; &#10;        companiesInterviewed !== null) {&#10;      await updateCancellation({&#10;        roles_applied: rolesApplied,&#10;        companies_emailed: companiesEmailed,&#10;        companies_interviewed: companiesInterviewed,&#10;        found_job_with_migrate_mate: foundJobWithMigrateMate&#10;      });&#10;      setCurrentStep('feedback');&#10;    }&#10;  };&#10;  &#10;  const isFormComplete = foundJobWithMigrateMate !== null &amp;&amp; &#10;                        rolesApplied !== null &amp;&amp; &#10;                        companiesEmailed !== null &amp;&amp; &#10;                        companiesInterviewed !== null;&#10;  &#10;  return (&#10;    &lt;div className=&quot;flex flex-col h-full justify-between&quot;&gt;&#10;        &lt;div className=&quot;space-y-6&quot;&gt;&#10;          &lt;div&gt;&#10;            &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;              Congrats on the new role! &#10;            &lt;/h3&gt;&#10;            &lt;div className=&quot;mb-6&quot;&gt;&#10;              &lt;p className=&quot;text-[#41403D] mb-4&quot;&gt;Did you find this job with MigrateMate?*&lt;/p&gt;&#10;              &lt;div className=&quot;flex space-x-3&quot;&gt;&#10;                &lt;button&#10;                  onClick={() =&gt; setFoundJobWithMigrateMate(true)}&#10;                  className={`w-full px-6 py-2 rounded-lg border transition-colors ${&#10;                    foundJobWithMigrateMate === true&#10;                      ? 'bg-blue-600 text-white border-blue-600'&#10;                      : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                  }`}&#10;                &gt;&#10;                  Yes&#10;                &lt;/button&gt;&#10;                &lt;button&#10;                  onClick={() =&gt; setFoundJobWithMigrateMate(false)}&#10;                  className={`w-full px-6 py-2 rounded-lg border transition-colors ${&#10;                    foundJobWithMigrateMate === false&#10;                      ? 'bg-blue-600 text-white border-blue-600'&#10;                      : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                  }`}&#10;                &gt;&#10;                  No&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Survey Questions */}&#10;          &lt;div className=&quot;space-y-4&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                How many roles did you &lt;u&gt;apply&lt;/u&gt; for through MigrateMate?*&#10;              &lt;/label&gt;&#10;              &lt;div className=&quot;grid grid-cols-4 gap-2&quot;&gt;&#10;                {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                  &lt;button&#10;                    key={option}&#10;                    onClick={() =&gt; setRolesApplied(index)}&#10;                    className={`px-4 py-2 rounded-lg border transition-colors h-10 ${&#10;                      rolesApplied === index&#10;                        ? 'bg-blue-600 text-white border-blue-600'&#10;                        : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                    }`}&#10;                  &gt;&#10;                    {option}&#10;                  &lt;/button&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                How many companies did you &lt;u&gt;email&lt;/u&gt; directly?*&#10;              &lt;/label&gt;&#10;              &lt;div className=&quot;grid grid-cols-4 gap-2&quot;&gt;&#10;                {[&quot;0&quot;, &quot;1-5&quot;, &quot;6-20&quot;, &quot;20+&quot;].map((option, index) =&gt; (&#10;                  &lt;button&#10;                    key={option}&#10;                    onClick={() =&gt; setCompaniesEmailed(index)}&#10;                    className={`px-4 py-2 rounded-lg border transition-colors h-10 ${&#10;                      companiesEmailed === index&#10;                        ? 'bg-blue-600 text-white border-blue-600'&#10;                        : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                    }`}&#10;                  &gt;&#10;                    {option}&#10;                  &lt;/button&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div&gt;&#10;              &lt;label className=&quot;block text-[#41403D] mb-2&quot;&gt;&#10;                How many different companies did you &lt;u&gt;interview&lt;/u&gt; with?*&#10;              &lt;/label&gt;&#10;              &lt;div className=&quot;grid grid-cols-4 gap-2&quot;&gt;&#10;                {[&quot;0&quot;, &quot;1-2&quot;, &quot;3-5&quot;, &quot;5+&quot;].map((option, index) =&gt; (&#10;                  &lt;button&#10;                    key={option}&#10;                    onClick={() =&gt; setCompaniesInterviewed(index)}&#10;                    className={`px-4 py-2 rounded-lg border transition-colors h-10 ${&#10;                      companiesInterviewed === index&#10;                        ? 'bg-blue-600 text-white border-blue-600'&#10;                        : 'bg-white text-[#41403D] border-gray-300 hover:border-gray-400'&#10;                    }`}&#10;                  &gt;&#10;                    {option}&#10;                  &lt;/button&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &#10;        &lt;div className=&quot;mt-6&quot;&gt;&#10;          &lt;RamyaButton&#10;            onClick={handleContinue}&#10;            disabled={!isFormComplete}&#10;            variant=&quot;primary&quot;&#10;            fullWidth&#10;          &gt;&#10;            Continue&#10;          &lt;/RamyaButton&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default RamyaCongratsStep;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/steps/DownsellCompletedStep.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/steps/DownsellCompletedStep.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import Image from 'next/image';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import StepHeader from '../shared/StepHeader';&#10;import Button from '../shared/Button';&#10;import { getDownsellPrice, formatCurrency } from '@/utils/cancellation';&#10;import { MOCK_SUBSCRIPTION } from '@/constants/cancellation';&#10;&#10;interface DownsellCompletedStepProps {&#10;  onClose: () =&gt; void;&#10;}&#10;&#10;const DownsellCompletedStep: React.FC&lt;DownsellCompletedStepProps&gt; = ({ onClose }) =&gt; {&#10;  const {&#10;    acceptedDownsell,&#10;    setCurrentStep&#10;  } = useCancellationContext();&#10;  &#10;  const downsellPrice = getDownsellPrice(MOCK_SUBSCRIPTION.monthly_price);&#10;  const originalPrice = MOCK_SUBSCRIPTION.monthly_price / 100;&#10;  &#10;  const handleLandDreamRole = () =&gt; {&#10;    setCurrentStep('job_recommendations');&#10;  };&#10;  &#10;  return (&#10;    &lt;&gt;&#10;      {/* Simple Header */}&#10;      &lt;StepHeader &#10;        title=&quot;Subscription&quot; &#10;        onClose={onClose}&#10;        centerTitle={true}&#10;      /&gt;&#10;&#10;      {/* Desktop Layout */}&#10;      &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;        {/* Left Content */}&#10;        &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;          &lt;div className=&quot;space-y-6&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                Great choice, mate!&#10;              &lt;/h3&gt;&#10;              &lt;div className=&quot;mb-6&quot;&gt;&#10;                &lt;p className=&quot;text-[#41403D] mb-2 font-bold&quot;&gt;&#10;                  You&amp;apos;re still on the path to your dream role.{' '}&#10;                  &lt;span className=&quot;text-purple-600 font-bold&quot;&gt;&#10;                    Let&amp;apos;s make it happen together!&#10;                  &lt;/span&gt;&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;mb-6&quot;&gt;&#10;                &lt;p className=&quot;text-[#62605C] text-sm mb-0 font-bold&quot;&gt;&#10;                  You&amp;apos;ve got XX days left on your current plan.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#62605C] text-sm mb-2 font-bold&quot;&gt;&#10;                  Starting from XX date, your monthly payment will be {formatCurrency(acceptedDownsell ? downsellPrice : originalPrice)}.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#62605C] text-sm italic&quot;&gt;&#10;                  You can cancel anytime before then.&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div className=&quot;border-t border-gray-200&quot;&gt;&lt;/div&gt;&#10;            &#10;            &lt;Button&#10;              onClick={handleLandDreamRole}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              Land your dream role&#10;            &lt;/Button&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Right Image - Aligned with content from &quot;mate&quot; to button */}&#10;        &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl mr-5 self-start&quot; style={{ height: '270px', marginTop: '25px' }}&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;&#10;      {/* Mobile Layout */}&#10;      &lt;div className=&quot;lg:hidden&quot;&gt;&#10;        {/* Image on top */}&#10;        &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl mt-2 mx-5&quot;&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Content below */}&#10;        &lt;div className=&quot;p-4&quot;&gt;&#10;          &lt;div className=&quot;space-y-4&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                Great choice, mate!&#10;              &lt;/h3&gt;&#10;              &lt;div className=&quot;mb-3&quot;&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-sm mb-2&quot;&gt;&#10;                  You&amp;apos;re still on the path to your dream role.{' '}&#10;                  &lt;span className=&quot;text-purple-600 font-semibold&quot;&gt;&#10;                    Let&amp;apos;s make it happen together!&#10;                  &lt;/span&gt;&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;mb-4&quot;&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                  You&amp;apos;ve got XX days left on your current plan.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                  Starting from XX date, your monthly payment will be {formatCurrency(acceptedDownsell ? downsellPrice : originalPrice)}.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-xs italic&quot;&gt;&#10;                  You can cancel anytime before then.&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &#10;            &lt;Button&#10;              onClick={handleLandDreamRole}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              Land your dream role&#10;            &lt;/Button&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/&gt;&#10;  );&#10;};&#10;&#10;export default DownsellCompletedStep;&#10;" />
              <option name="updatedContent" value="import React from 'react';&#10;import Image from 'next/image';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import { RamyaStepHeader } from '../shared';&#10;import { RamyaButton } from '../shared';&#10;import { getDownsellPrice, formatCurrency } from '@/utils/cancellation';&#10;import { MOCK_SUBSCRIPTION } from '@/constants/cancellation';&#10;&#10;interface RamyaDownsellCompletedStepProps {&#10;  onClose: () =&gt; void;&#10;}&#10;&#10;const RamyaDownsellCompletedStep: React.FC&lt;RamyaDownsellCompletedStepProps&gt; = ({ onClose }) =&gt; {&#10;  const {&#10;    acceptedDownsell,&#10;    setCurrentStep&#10;  } = useCancellationContext();&#10;  &#10;  const downsellPrice = getDownsellPrice(MOCK_SUBSCRIPTION.monthly_price);&#10;  const originalPrice = MOCK_SUBSCRIPTION.monthly_price / 100;&#10;  &#10;  const handleLandDreamRole = () =&gt; {&#10;    setCurrentStep('job_recommendations');&#10;  };&#10;  &#10;  return (&#10;    &lt;&gt;&#10;      &lt;RamyaStepHeader &#10;        title=&quot;Subscription&quot; &#10;        onClose={onClose}&#10;        centerTitle={true}&#10;      /&gt;&#10;      &lt;div className=&quot;hidden lg:flex&quot;&gt;&#10;        &lt;div className=&quot;flex-1 p-8 pr-6&quot;&gt;&#10;          &lt;div className=&quot;space-y-6&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;                Great choice, mate!&#10;              &lt;/h3&gt;&#10;              &lt;div className=&quot;mb-6&quot;&gt;&#10;                &lt;p className=&quot;text-[#41403D] mb-2 font-bold&quot;&gt;&#10;                  You&amp;apos;re still on the path to your dream role.{' '}&#10;                  &lt;span className=&quot;text-purple-600 font-bold&quot;&gt;&#10;                    Let&amp;apos;s make it happen together!&#10;                  &lt;/span&gt;&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;mb-6&quot;&gt;&#10;                &lt;p className=&quot;text-[#62605C] text-sm mb-0 font-bold&quot;&gt;&#10;                  You&amp;apos;ve got XX days left on your current plan.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#62605C] text-sm mb-2 font-bold&quot;&gt;&#10;                  Starting from XX date, your monthly payment will be {formatCurrency(acceptedDownsell ? downsellPrice : originalPrice)}.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#62605C] text-sm italic&quot;&gt;&#10;                  You can cancel anytime before then.&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div className=&quot;border-t border-gray-200&quot;&gt;&lt;/div&gt;&#10;            &lt;RamyaButton&#10;              onClick={handleLandDreamRole}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              Land your dream role&#10;            &lt;/RamyaButton&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &lt;div className=&quot;w-[400px] relative overflow-hidden rounded-2xl mr-5 self-start&quot; style={{ height: '270px', marginTop: '25px' }}&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;lg:hidden&quot;&gt;&#10;        &lt;div className=&quot;h-48 relative overflow-hidden rounded-2xl mt-2 mx-5&quot;&gt;&#10;          &lt;Image&#10;            src=&quot;/empire-state-compressed.jpg&quot;&#10;            alt=&quot;New York City skyline with Empire State Building&quot;&#10;            fill&#10;            className=&quot;object-cover&quot;&#10;            priority&#10;          /&gt;&#10;        &lt;/div&gt;&#10;        &lt;div className=&quot;p-4&quot;&gt;&#10;          &lt;div className=&quot;space-y-4&quot;&gt;&#10;            &lt;div&gt;&#10;              &lt;h3 className=&quot;text-xl font-bold text-[#41403D] leading-tight mb-3&quot;&gt;&#10;                Great choice, mate!&#10;              &lt;/h3&gt;&#10;              &lt;div className=&quot;mb-3&quot;&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-sm mb-2&quot;&gt;&#10;                  You&amp;apos;re still on the path to your dream role.{' '}&#10;                  &lt;span className=&quot;text-purple-600 font-semibold&quot;&gt;&#10;                    Let&amp;apos;s make it happen together!&#10;                  &lt;/span&gt;&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;mb-4&quot;&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                  You&amp;apos;ve got XX days left on your current plan.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-xs mb-1&quot;&gt;&#10;                  Starting from XX date, your monthly payment will be {formatCurrency(acceptedDownsell ? downsellPrice : originalPrice)}.&#10;                &lt;/p&gt;&#10;                &lt;p className=&quot;text-[#41403D] text-xs italic&quot;&gt;&#10;                  You can cancel anytime before then.&#10;                &lt;/p&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;RamyaButton&#10;              onClick={handleLandDreamRole}&#10;              variant=&quot;primary&quot;&#10;              fullWidth&#10;              className=&quot;bg-purple-600 hover:bg-purple-700&quot;&#10;            &gt;&#10;              Land your dream role&#10;            &lt;/RamyaButton&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/&gt;&#10;  );&#10;};&#10;&#10;export default RamyaDownsellCompletedStep;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/steps/DownsellStep.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/steps/DownsellStep.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import Button from '../shared/Button';&#10;import { formatCurrency } from '@/utils/cancellation';&#10;&#10;const DownsellStep: React.FC = () =&gt; {&#10;  const {&#10;    setAcceptedDownsell,&#10;    setCurrentStep,&#10;    getDownsellDisplay&#10;  } = useCancellationContext();&#10;  &#10;  const { originalPrice, downsellPrice } = getDownsellDisplay();&#10;  &#10;  const handleAcceptDownsell = () =&gt; {&#10;    setAcceptedDownsell(true);&#10;    setCurrentStep('downsell_completed');&#10;  };&#10;  &#10;  const handleDeclineDownsell = () =&gt; {&#10;    setAcceptedDownsell(false);&#10;    setCurrentStep('survey');&#10;  };&#10;  &#10;  return (&#10;    &lt;div className=&quot;space-y-6&quot;&gt;&#10;        &lt;div&gt;&#10;          &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;            We built this to help you land the job, this makes it a little easier.&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;            We&amp;apos;ve been there and we&amp;apos;re here to help you.&#10;          &lt;/p&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Downsell Offer Box */}&#10;        &lt;div className=&quot;bg-purple-100 border-2 border-purple-200 rounded-xl p-6 mb-6&quot;&gt;&#10;          &lt;div className=&quot;text-center&quot;&gt;&#10;            &lt;h4 className=&quot;text-lg font-bold text-[#41403D] mb-4&quot;&gt;&#10;              Here&amp;apos;s &lt;u className=&quot;text-[#41403D]&quot;&gt;50% off&lt;/u&gt; until you find a job.&#10;            &lt;/h4&gt;&#10;            &lt;div className=&quot;flex items-baseline justify-center space-x-3 mb-4&quot;&gt;&#10;              &lt;span className=&quot;text-3xl font-bold text-purple-600&quot;&gt;&#10;                {formatCurrency(downsellPrice)}/month&#10;              &lt;/span&gt;&#10;              &lt;span className=&quot;text-lg text-gray-500 line-through&quot;&gt;&#10;                {formatCurrency(originalPrice)}/month&#10;              &lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;Button&#10;              onClick={handleAcceptDownsell}&#10;              variant=&quot;success&quot;&#10;              fullWidth&#10;              className=&quot;mb-3&quot;&#10;            &gt;&#10;              Get 50% off&#10;            &lt;/Button&gt;&#10;            &lt;p className=&quot;text-sm text-[#41403D] italic&quot;&gt;&#10;              You won&amp;apos;t be charged until your next billing date.&#10;            &lt;/p&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* No Thanks Button */}&#10;        &lt;Button&#10;          onClick={handleDeclineDownsell}&#10;          variant=&quot;secondary&quot;&#10;          fullWidth&#10;        &gt;&#10;          No thanks&#10;        &lt;/Button&gt;&#10;      &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default DownsellStep;&#10;" />
              <option name="updatedContent" value="import React from 'react';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import { RamyaButton } from '../shared';&#10;import { formatCurrency } from '@/utils/cancellation';&#10;&#10;const RamyaDownsellStep: React.FC = () =&gt; {&#10;  const {&#10;    setAcceptedDownsell,&#10;    setCurrentStep,&#10;    getDownsellDisplay&#10;  } = useCancellationContext();&#10;  &#10;  const { originalPrice, downsellPrice } = getDownsellDisplay();&#10;  &#10;  const handleAcceptDownsell = () =&gt; {&#10;    setAcceptedDownsell(true);&#10;    setCurrentStep('downsell_completed');&#10;  };&#10;  &#10;  const handleDeclineDownsell = () =&gt; {&#10;    setAcceptedDownsell(false);&#10;    setCurrentStep('survey');&#10;  };&#10;  &#10;  return (&#10;    &lt;div className=&quot;space-y-6&quot;&gt;&#10;        &lt;div&gt;&#10;          &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;            We built this to help you land the job, this makes it a little easier.&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;            We&amp;apos;ve been there and we&amp;apos;re here to help you.&#10;          &lt;/p&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Downsell Offer Box */}&#10;        &lt;div className=&quot;bg-purple-100 border-2 border-purple-200 rounded-xl p-6 mb-6&quot;&gt;&#10;          &lt;div className=&quot;text-center&quot;&gt;&#10;            &lt;h4 className=&quot;text-lg font-bold text-[#41403D] mb-4&quot;&gt;&#10;              Here&amp;apos;s &lt;u className=&quot;text-[#41403D]&quot;&gt;50% off&lt;/u&gt; until you find a job.&#10;            &lt;/h4&gt;&#10;            &lt;div className=&quot;flex items-baseline justify-center space-x-3 mb-4&quot;&gt;&#10;              &lt;span className=&quot;text-3xl font-bold text-purple-600&quot;&gt;&#10;                {formatCurrency(downsellPrice)}/month&#10;              &lt;/span&gt;&#10;              &lt;span className=&quot;text-lg text-gray-500 line-through&quot;&gt;&#10;                {formatCurrency(originalPrice)}/month&#10;              &lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;RamyaButton&#10;              onClick={handleAcceptDownsell}&#10;              variant=&quot;success&quot;&#10;              fullWidth&#10;              className=&quot;mb-3&quot;&#10;            &gt;&#10;              Get 50% off&#10;            &lt;/RamyaButton&gt;&#10;            &lt;p className=&quot;text-sm text-[#41403D] italic&quot;&gt;&#10;              You won&amp;apos;t be charged until your next billing date.&#10;            &lt;/p&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* No Thanks Button */}&#10;        &lt;RamyaButton&#10;          onClick={handleDeclineDownsell}&#10;          variant=&quot;secondary&quot;&#10;          fullWidth&#10;        &gt;&#10;          No thanks&#10;        &lt;/RamyaButton&gt;&#10;      &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default RamyaDownsellStep;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/steps/FeedbackStep.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/steps/FeedbackStep.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import Button from '../shared/Button';&#10;import TextArea from '../shared/TextArea';&#10;import { MIN_FEEDBACK_LENGTH } from '@/constants/cancellation';&#10;&#10;const FeedbackStep: React.FC = () =&gt; {&#10;  const {&#10;    feedback,&#10;    setFeedback,&#10;    setCurrentStep,&#10;    updateCancellation&#10;  } = useCancellationContext();&#10;  &#10;  const handleContinue = async () =&gt; {&#10;    if (feedback.length &gt;= MIN_FEEDBACK_LENGTH) {&#10;      await updateCancellation({ feedback });&#10;      setCurrentStep('visa');&#10;    }&#10;  };&#10;  &#10;  return (&#10;    &lt;div className=&quot;space-y-6&quot;&gt;&#10;        &lt;div&gt;&#10;          &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;            What&amp;apos;s one thing you wish we could&amp;apos;ve helped you with?&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;            We&amp;apos;re always looking to improve, your thoughts can help us make MigrateMate more useful for others.*&#10;          &lt;/p&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;TextArea&#10;          value={feedback}&#10;          onChange={(e) =&gt; setFeedback(e.target.value)}&#10;          placeholder=&quot;Your feedback...&quot;&#10;          rows={4}&#10;          className=&quot;h-40&quot;&#10;          showCharCount&#10;          minLength={MIN_FEEDBACK_LENGTH}&#10;        /&gt;&#10;&#10;        &lt;Button&#10;          onClick={handleContinue}&#10;          disabled={feedback.length &lt; MIN_FEEDBACK_LENGTH}&#10;          variant=&quot;primary&quot;&#10;          fullWidth&#10;        &gt;&#10;          Continue&#10;        &lt;/Button&gt;&#10;      &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default FeedbackStep;&#10;" />
              <option name="updatedContent" value="import React from 'react';&#10;import { useCancellationContext } from '@/contexts/CancellationContext';&#10;import { RamyaButton } from '../shared';&#10;import { RamyaTextArea } from '../shared';&#10;import { MIN_FEEDBACK_LENGTH } from '@/constants/cancellation';&#10;&#10;const RamyaFeedbackStep: React.FC = () =&gt; {&#10;  const {&#10;    feedback,&#10;    setFeedback,&#10;    setCurrentStep,&#10;    updateCancellation&#10;  } = useCancellationContext();&#10;  &#10;  const handleContinue = async () =&gt; {&#10;    if (feedback.length &gt;= MIN_FEEDBACK_LENGTH) {&#10;      await updateCancellation({ feedback });&#10;      setCurrentStep('visa');&#10;    }&#10;  };&#10;  &#10;  return (&#10;    &lt;div className=&quot;space-y-6&quot;&gt;&#10;        &lt;div&gt;&#10;          &lt;h3 className=&quot;text-2xl font-bold text-[#41403D] mb-4&quot;&gt;&#10;            What&amp;apos;s one thing you wish we could&amp;apos;ve helped you with?&#10;          &lt;/h3&gt;&#10;          &lt;p className=&quot;text-[#41403D] mb-6&quot;&gt;&#10;            We&amp;apos;re always looking to improve, your thoughts can help us make MigrateMate more useful for others.*&#10;          &lt;/p&gt;&#10;        &lt;/div&gt;&#10;        &lt;RamyaTextArea&#10;          value={feedback}&#10;          onChange={(e) =&gt; setFeedback(e.target.value)}&#10;          placeholder=&quot;Your feedback...&quot;&#10;          rows={4}&#10;          className=&quot;h-40&quot;&#10;          showCharCount&#10;          minLength={MIN_FEEDBACK_LENGTH}&#10;        /&gt;&#10;        &lt;RamyaButton&#10;          onClick={handleContinue}&#10;          disabled={feedback.length &lt; MIN_FEEDBACK_LENGTH}&#10;          variant=&quot;primary&quot;&#10;          fullWidth&#10;        &gt;&#10;          Continue&#10;        &lt;/RamyaButton&gt;&#10;      &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default RamyaFeedbackStep;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/cancellation/steps/index.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/cancellation/steps/index.ts" />
              <option name="originalContent" value="export { default as MmcfInitialStep } from './mmcf_InitialStep';&#10;export { default as MmcfCongratsStep } from './mmcf_CongratsStep';&#10;export { default as MmcfFeedbackStep } from './mmcf_FeedbackStep';&#10;export { default as MmcfVisaStep } from './mmcf_VisaStep';&#10;export { default as MmcfDownsellStep } from './mmcf_DownsellStep';&#10;export { default as MmcfSurveyStep } from './mmcf_SurveyStep';&#10;export { default as MmcfReasonSelectionStep } from './mmcf_ReasonSelectionStep';&#10;export { default as MmcfCompletedStep } from './mmcf_CompletedStep';&#10;export { default as MmcfDownsellCompletedStep } from './mmcf_DownsellCompletedStep';&#10;export { default as MmcfJobRecommendationsStep } from './mmcf_JobRecommendationsStep';&#10;// Note: MmcfJobRecommendationsStep is complex and will be created separately&#10;&#10;&#10;" />
              <option name="updatedContent" value="export { default as RamyaInitialStep } from './InitialStep';&#10;export { default as RamyaCongratsStep } from './CongratsStep';&#10;export { default as RamyaFeedbackStep } from './FeedbackStep';&#10;export { default as RamyaVisaStep } from './VisaStep';&#10;export { default as RamyaDownsellStep } from './DownsellStep';&#10;export { default as RamyaSurveyStep } from './SurveyStep';&#10;export { default as RamyaReasonSelectionStep } from './ReasonSelectionStep';&#10;export { default as RamyaCompletedStep } from './CompletedStep';&#10;export { default as RamyaDownsellCompletedStep } from './DownsellCompletedStep';&#10;export { default as RamyaJobRecommendationsStep } from './JobRecommendationsStep';" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>